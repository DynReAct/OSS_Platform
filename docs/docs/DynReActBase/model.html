<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>Model - Dynreact Base</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Model";
        var mkdocs_page_input_path = "model.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="index.html" class="icon icon-home"> Dynreact Base
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="" href="../index.html">Back</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="index.html">General</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="cost_provider.html">Cost provider</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="lots_optimizer.html">Lots optimizer</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Model</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#model-class">Model class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Model">Model</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#labeleditem-class">LabeledItem class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.LabeledItem">LabeledItem</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#processinformation-class">ProcessInformation class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.ProcessInformation">ProcessInformation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.ProcessInformation.throughput_capacity">throughput_capacity</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#process-class">Process class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Process">Process</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Process.name_short">name_short</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Process.process_ids">process_ids</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Process.synonyms">synonyms</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Process.next_steps">next_steps</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Process.process_group">process_group</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#equipment-class">Equipment class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Equipment">Equipment</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Equipment.storage_in">storage_in</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Equipment.storage_out">storage_out</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#storage-class">Storage class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Storage">Storage</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Storage.equipment">equipment</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Storage.capacity_weight">capacity_weight</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Storage.capacity_items">capacity_items</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Storage.target_filling_level">target_filling_level</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Storage.material_constraints">material_constraints</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#equipmentdowntime-class">EquipmentDowntime class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentDowntime">EquipmentDowntime</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentDowntime.start">start</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentDowntime.end">end</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#equipmentavailability-class">EquipmentAvailability class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentAvailability">EquipmentAvailability</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentAvailability.period">period</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentAvailability.daily_baseline">daily_baseline</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentAvailability.deltas">deltas</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#material-class">Material class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Material">Material</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Material.id">id</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Material.weight">weight</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Material.order_position">order_position</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Material.order_positions">order_positions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Material.current_storage">current_storage</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Material.current_process">current_process</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Material.current_process_name">current_process_name</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Material.properties">properties</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#order-class">Order class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Order">Order</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Order.due_date">due_date</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Order.target_weight">target_weight</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Order.actual_weight">actual_weight</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Order.material_count">material_count</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Order.material_classes">material_classes</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Order.lot">lot</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Order.lots">lots</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Order.lot_position">lot_position</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Order.lot_positions">lot_positions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Order.material_properties">material_properties</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Order.priority">priority</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#lot-class">Lot class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Lot">Lot</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Lot.status">status</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Lot.weight">weight</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#materialorderdata-class">MaterialOrderData class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.MaterialOrderData">MaterialOrderData</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#planningdata-class">PlanningData class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.PlanningData">PlanningData</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.PlanningData.target_fct">target_fct</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.PlanningData.lot_weights">lot_weights</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.PlanningData.delta_weight">delta_weight</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.PlanningData.material_structure">material_structure</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.PlanningData.main_category">main_category</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.PlanningData.nested_material_structure">nested_material_structure</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.PlanningData.assigned_priority">assigned_priority</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#equipmentstatus-class">EquipmentStatus class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentStatus">EquipmentStatus</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentStatus.current_order">current_order</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentStatus.previous_order">previous_order</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentStatus.current_material">current_material</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentStatus.current">current</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentStatus.previous">previous</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentStatus.planning">planning</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#equipmentproduction-class">EquipmentProduction class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentProduction">EquipmentProduction</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.EquipmentProduction.lot_weight_range">lot_weight_range</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#productiontargets-class">ProductionTargets class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.ProductionTargets">ProductionTargets</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.ProductionTargets.target_weight">target_weight</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.ProductionTargets.material_weights">material_weights</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#storagelevel-class">StorageLevel class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.StorageLevel">StorageLevel</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.StorageLevel.storage">storage</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.StorageLevel.filling_level">filling_level</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.StorageLevel.timestamp">timestamp</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.StorageLevel.material_levels">material_levels</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#orderassignment-class">OrderAssignment class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.OrderAssignment">OrderAssignment</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#productionplanning-class">ProductionPlanning class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.ProductionPlanning">ProductionPlanning</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.ProductionPlanning.get_lots">get_lots</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.ProductionPlanning.get_num_lots">get_num_lots</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.ProductionPlanning.get_targets">get_targets</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#materialclass-class">MaterialClass class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.MaterialClass">MaterialClass</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.MaterialClass.id">id</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.MaterialClass.category">category</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.MaterialClass.allowed_equipment">allowed_equipment</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.MaterialClass.is_default">is_default</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#materialcategory-class">MaterialCategory class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.MaterialCategory">MaterialCategory</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.MaterialCategory.id">id</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.MaterialCategory.classes">classes</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.MaterialCategory.process_steps">process_steps</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#site-class">Site class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Site">Site</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Site.get_process">get_process</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Site.get_process_by_id">get_process_by_id</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Site.get_equipment">get_equipment</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Site.get_equipment_by_name">get_equipment_by_name</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Site.get_process_equipment">get_process_equipment</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Site.get_storage">get_storage</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Site.get_process_all_equipment">get_process_all_equipment</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#snapshot-class">Snapshot class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Snapshot">Snapshot</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Snapshot.get_order">get_order</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Snapshot.get_material">get_material</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Snapshot.get_order_lot">get_order_lot</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Snapshot.get_material_equipment">get_material_equipment</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Snapshot.get_orders_equipment">get_orders_equipment</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.Snapshot.get_material_selected_orders">get_material_selected_orders</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#longtermtargets-class">LongTermTargets class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.LongTermTargets">LongTermTargets</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#midtermtargets-class">MidTermTargets class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.base.model.MidTermTargets">MidTermTargets</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="snapshot_provider.html">Snapshot provider</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="longtermplanning.html">Long term planning</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Dynreact Base</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Model</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="model">Model</h1>
<p>This module contains the basic domain model for the DynReAct production planning software.
It provides the definition of Equipment to be scheduled and Material as the unit of production,
as well as Orders (think production orders), which represent batches of Materials with common
properties.</p>
<p>The classes defined in this module are serializable and can be made accessible via a REST interface.</p>
<hr />
<h2 id="model-class">Model class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.Model"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>










  <div class="doc doc-children">











  </div>

    </div>

</div><h2 id="labeleditem-class">LabeledItem class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.LabeledItem"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>










  <div class="doc doc-children">











  </div>

    </div>

</div><h2 id="processinformation-class">ProcessInformation class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.ProcessInformation"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>


        <p>An abstract class containing common information for process-related subclasses</p>






              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ProcessInformation</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An abstract class containing common information for process-related subclasses</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">throughput_capacity</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;unit: t/h&quot;</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    FIXME in general this will be dependent on the material class</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.ProcessInformation.throughput_capacity" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">throughput_capacity</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>unit: t/h</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="process-class">Process class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.Process"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.LabeledItem" href="#dynreact.base.model.LabeledItem">LabeledItem</a></code>, <code><a class="autorefs autorefs-internal" title="dynreact.base.model.ProcessInformation" href="#dynreact.base.model.ProcessInformation">ProcessInformation</a></code></p>







              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Process</span><span class="p">(</span><span class="n">LabeledItem</span><span class="p">,</span> <span class="n">ProcessInformation</span><span class="p">):</span>
    <span class="n">name_short</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">examples</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;VA&quot;</span><span class="p">,</span> <span class="s2">&quot;BZ&quot;</span><span class="p">],</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="s2">&quot;Short name uniquely identifying the process2.&quot;</span>
    <span class="n">process_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="s2">&quot;Internal process id(s)&quot;</span>
    <span class="n">synonyms</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">examples</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;VEA&quot;</span><span class="p">],</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="s2">&quot;Alternative short names.&quot;</span>
    <span class="n">next_steps</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Possible follow-up process steps.&quot;</span>
    <span class="n">process_group</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Id for a group of processes.&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Process.name_short" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">name_short</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">examples</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;VA&#39;</span><span class="p">,</span> <span class="s1">&#39;BZ&#39;</span><span class="p">],</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Short name uniquely identifying the process2.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Process.process_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Internal process id(s)</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Process.synonyms" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">synonyms</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">examples</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;VEA&#39;</span><span class="p">],</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Alternative short names.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Process.next_steps" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">next_steps</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Possible follow-up process steps.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Process.process_group" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_group</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Id for a group of processes.</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="equipment-class">Equipment class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.Equipment"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.LabeledItem" href="#dynreact.base.model.LabeledItem">LabeledItem</a></code>, <code><a class="autorefs autorefs-internal" title="dynreact.base.model.ProcessInformation" href="#dynreact.base.model.ProcessInformation">ProcessInformation</a></code></p>


        <p>Equipment, such as a production plant.</p>






              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Equipment</span><span class="p">(</span><span class="n">LabeledItem</span><span class="p">,</span> <span class="n">ProcessInformation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Equipment, such as a production plant.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">name_short</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">process</span><span class="p">:</span> <span class="nb">str</span>

    <span class="n">storage_in</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Default storage location of material waiting to be processed by this equipment&quot;</span>
    <span class="n">storage_out</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Default storage locations of material processed by this equipment&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_equipment_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idp</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name_short</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_equipment_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Equipment.storage_in" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">storage_in</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Default storage location of material waiting to be processed by this equipment</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Equipment.storage_out" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">storage_out</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Default storage locations of material processed by this equipment</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="storage-class">Storage class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.Storage"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.LabeledItem" href="#dynreact.base.model.LabeledItem">LabeledItem</a></code></p>


        <p>Storage for materials.</p>






              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Storage</span><span class="p">(</span><span class="n">LabeledItem</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Storage for materials.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name_short</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">equipment</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="s2">&quot;Equipment served by this storage primarily.&quot;</span>
    <span class="c1">#secondary_plants: list[int]|None = Field(None, description=&quot;Plants served by this storage.&quot;)</span>
    <span class="n">capacity_weight</span><span class="p">:</span> <span class="nb">float</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Capacity in t.&quot;</span>
    <span class="n">capacity_items</span><span class="p">:</span> <span class="nb">int</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Capacity in items / material.&quot;</span>
    <span class="n">target_filling_level</span><span class="p">:</span> <span class="nb">float</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># TODO rather need a range</span>
    <span class="s2">&quot;A number between 0 and 1&quot;</span>
    <span class="c1">#target_filling_range: tuple[float, float]|None = Field(None, description=&quot;Numbers between 0 and 1&quot;)</span>
    <span class="n">material_constraints</span><span class="p">:</span> <span class="n">MaterialConstraint</span><span class="o">|</span><span class="kc">None</span><span class="o">=</span><span class="kc">None</span>
    <span class="s2">&quot;Constraints on the type of material supported by this storage.&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Storage.equipment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">equipment</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Equipment served by this storage primarily.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Storage.capacity_weight" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">capacity_weight</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Capacity in t.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Storage.capacity_items" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">capacity_items</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Capacity in items / material.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Storage.target_filling_level" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">target_filling_level</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>A number between 0 and 1</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Storage.material_constraints" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">material_constraints</span><span class="p">:</span> <span class="n">MaterialConstraint</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Constraints on the type of material supported by this storage.</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="equipmentdowntime-class">EquipmentDowntime class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.EquipmentDowntime"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>


        <p>@beta: currently not used</p>






              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">EquipmentDowntime</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    @beta: currently not used</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">equipment</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">start</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Start of downtime, if known&quot;</span>
    <span class="n">end</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;End of downtime, if known. This is the scheduled end if in the future. TODO: do we need to model more uncertain situations?&quot;</span>
    <span class="n">reason</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.EquipmentDowntime.start" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">start</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Start of downtime, if known</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.EquipmentDowntime.end" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">end</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>End of downtime, if known. This is the scheduled end if in the future. TODO: do we need to model more uncertain situations?</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="equipmentavailability-class">EquipmentAvailability class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.EquipmentAvailability"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>


        <p>@beta</p>






              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">EquipmentAvailability</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    @beta</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">equipment</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">period</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">date</span><span class="p">,</span> <span class="n">date</span><span class="p">]</span>
    <span class="s2">&quot;The period this refers to, typically a month&quot;</span>
    <span class="n">daily_baseline</span><span class="p">:</span> <span class="n">timedelta</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;The baseline availability, such as 24h or 1d. Default is 1d.&quot;</span>
    <span class="n">deltas</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">date</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">]</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Deviations from the baseline per day. Defaults to 0 if a day is missing or the field is unset. Positive values mean extra time, negative values are outages etc.&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.EquipmentAvailability.period" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">period</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">date</span><span class="p">,</span> <span class="n">date</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>The period this refers to, typically a month</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.EquipmentAvailability.daily_baseline" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">daily_baseline</span><span class="p">:</span> <span class="n">timedelta</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>The baseline availability, such as 24h or 1d. Default is 1d.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.EquipmentAvailability.deltas" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">deltas</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">date</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Deviations from the baseline per day. Defaults to 0 if a day is missing or the field is unset. Positive values mean extra time, negative values are outages etc.</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="material-class">Material class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.Material"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>







              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Material</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">extra</span><span class="o">=</span><span class="s2">&quot;allow&quot;</span><span class="p">)</span>

    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="s2">&quot;The material id&quot;</span>
    <span class="n">order</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">weight</span><span class="p">:</span> <span class="nb">float</span>
    <span class="s2">&quot;Material weight in t&quot;</span>
    <span class="n">order_position</span><span class="p">:</span> <span class="nb">int</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;@deprecated: 1-based index of material in order; note that this always refers to a lot&quot;</span>
    <span class="n">order_positions</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;1-based index of material in order for specific lots (keys: lot id)&quot;</span>
    <span class="n">current_equipment_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">current_equipment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">current_storage</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Note: this field is only relevant for short-term planning. The mid-term planning is based on current_equipment only.&quot;</span>
    <span class="n">current_process</span><span class="p">:</span> <span class="nb">int</span>
    <span class="s2">&quot;Process id, cf. field Process#process_ids&quot;</span>
    <span class="n">current_process_name</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Process stage&quot;</span>
    <span class="n">properties</span><span class="p">:</span> <span class="n">PROPERTIES</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Material-specific properties.&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_current_equipment_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_equipment_name</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">order</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Material.id" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>The material id</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Material.weight" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">weight</span><span class="p">:</span> <span class="nb">float</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Material weight in t</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Material.order_position" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">order_position</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>@deprecated: 1-based index of material in order; note that this always refers to a lot</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Material.order_positions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">order_positions</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>1-based index of material in order for specific lots (keys: lot id)</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Material.current_storage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">current_storage</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Note: this field is only relevant for short-term planning. The mid-term planning is based on current_equipment only.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Material.current_process" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">current_process</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Process id, cf. field Process#process_ids</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Material.current_process_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">current_process_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Process stage</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Material.properties" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">properties</span><span class="p">:</span> <span class="n">PROPERTIES</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Material-specific properties.</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="order-class">Order class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.Order"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code>, <code><span title="typing.Generic">Generic</span>[<span title="dynreact.base.model.MATERIAL_PROPERTIES">MATERIAL_PROPERTIES</span>]</code></p>







              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Order</span><span class="p">(</span><span class="n">Model</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">MATERIAL_PROPERTIES</span><span class="p">],</span> <span class="n">arbitrary_types_allowed</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">due_date</span><span class="p">:</span> <span class="n">datetime</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Due date&quot;</span>
    <span class="n">target_weight</span><span class="p">:</span> <span class="nb">float</span>
    <span class="s2">&quot;Target weight in t&quot;</span>
    <span class="n">actual_weight</span><span class="p">:</span> <span class="nb">float</span>
    <span class="s2">&quot;Sum of individual material weights in t&quot;</span>
    <span class="n">material_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="s2">&quot;Number of units in this order&quot;</span>
    <span class="n">material_classes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="s2">&quot;Keys: material category id, values: material class ids&quot;</span>
    <span class="n">allowed_equipment</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>   <span class="c1"># TODO dict[process, list[int]]?</span>
    <span class="n">current_equipment</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># @deprecated</span>
    <span class="n">current_processes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">active_processes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;PENDING&quot;</span><span class="p">,</span> <span class="s2">&quot;STARTED&quot;</span><span class="p">,</span> <span class="s2">&quot;FINISHED&quot;</span><span class="p">]]</span>
    <span class="c1"># FIXME a single order can be assigned to multiple orders at different process steps!</span>
    <span class="c1"># @deprecated</span>
    <span class="n">lot</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">deprecated</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="s2">&quot;DEPRECATED, use lots field instead&quot;</span>
    <span class="n">lots</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Lot ids by process steps&quot;</span>
    <span class="c1"># @deprecated</span>
    <span class="n">lot_position</span><span class="p">:</span> <span class="nb">int</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">deprecated</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="s2">&quot;DEPRECATED: use lot_positions instead. (1-based index of order in lot)&quot;</span>
    <span class="n">lot_positions</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;1-based index of order in lots, by process step&quot;</span>
    <span class="c1"># FIXME this dict type with arbitrary_types_allowed is just a temporary workaround, need to find a better solution...</span>
    <span class="n">material_properties</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="n">MATERIAL_PROPERTIES</span>
    <span class="s2">&quot;Use-case specific material characteristics.&quot;</span>
    <span class="n">priority</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="s2">&quot;Order priority&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Order.due_date" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">due_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Due date</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Order.target_weight" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">target_weight</span><span class="p">:</span> <span class="nb">float</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Target weight in t</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Order.actual_weight" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">actual_weight</span><span class="p">:</span> <span class="nb">float</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Sum of individual material weights in t</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Order.material_count" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">material_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Number of units in this order</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Order.material_classes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">material_classes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Keys: material category id, values: material class ids</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Order.lot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lot</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">deprecated</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>DEPRECATED, use lots field instead</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Order.lots" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lots</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Lot ids by process steps</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Order.lot_position" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lot_position</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">deprecated</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>DEPRECATED: use lot_positions instead. (1-based index of order in lot)</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Order.lot_positions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lot_positions</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>1-based index of order in lots, by process step</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Order.material_properties" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">material_properties</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="n">MATERIAL_PROPERTIES</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Use-case specific material characteristics.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Order.priority" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">priority</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Order priority</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="lot-class">Lot class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.Lot"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>







              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Lot</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">equipment</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">active</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">status</span><span class="p">:</span> <span class="nb">int</span>
    <span class="s2">&quot;1: created; 2: blocked; 3: released; 4: in progress; 5: completed&quot;</span>
    <span class="n">orders</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">processing_status</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;PENDING&quot;</span><span class="p">,</span> <span class="s2">&quot;STARTED&quot;</span><span class="p">,</span> <span class="s2">&quot;FINISHED&quot;</span><span class="p">]</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">comment</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">weight</span><span class="p">:</span> <span class="nb">float</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Convenience field for storing the total lot weight. Must be equal to the sum of the order weights. In tons.&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Lot.status" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">status</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>1: created; 2: blocked; 3: released; 4: in progress; 5: completed</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.Lot.weight" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">weight</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Convenience field for storing the total lot weight. Must be equal to the sum of the order weights. In tons.</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="materialorderdata-class">MaterialOrderData class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.MaterialOrderData"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>







              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MaterialOrderData</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">order</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">material</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div><h2 id="planningdata-class">PlanningData class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.PlanningData"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>


        <p>This class holds the internal state of the optimization algorithm</p>






              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PlanningData</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class holds the internal state of the optimization algorithm</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">extra</span><span class="o">=</span><span class="s2">&quot;allow&quot;</span><span class="p">,</span> <span class="n">use_attribute_docstrings</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">target_fct</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="s2">&quot;Current value of the target function&quot;</span>
    <span class="c1"># lots: list[list[str]] TODO?</span>
    <span class="n">transition_costs</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">logistic_costs</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">lots_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">lot_weights</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="s2">&quot;Lot weights in tons.&quot;</span>
    <span class="n">orders_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">delta_weight</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="s2">&quot;Deviation from target weight in t. Positive for missing tonnage.&quot;</span>
    <span class="n">material_structure</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Keep track of material classes. Outer key: category id, inner key: class id; special keys </span><span class="se">\&quot;</span><span class="s2">_sum</span><span class="se">\&quot;</span><span class="s2"> represent the total/aggregated values&quot;</span>
    <span class="n">main_category</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;For nested structure planning, the main category.&quot;</span>
    <span class="n">nested_material_structure</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]]</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Keep track of nested material classes. Only used in case of nested structure targets. </span>
<span class="sd">    Outermost key: class id for main category, middle key: sub category id, innermost key: class id; special keys \&quot;_sum\&quot; represent the total/aggregated values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">min_due_date</span><span class="p">:</span> <span class="n">datetime</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">assigned_priority</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="s2">&quot;sum priority of assigned orders&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.PlanningData.target_fct" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">target_fct</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Current value of the target function</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.PlanningData.lot_weights" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lot_weights</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Lot weights in tons.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.PlanningData.delta_weight" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delta_weight</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Deviation from target weight in t. Positive for missing tonnage.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.PlanningData.material_structure" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">material_structure</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Keep track of material classes. Outer key: category id, inner key: class id; special keys "_sum" represent the total/aggregated values</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.PlanningData.main_category" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">main_category</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>For nested structure planning, the main category.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.PlanningData.nested_material_structure" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">nested_material_structure</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Keep track of nested material classes. Only used in case of nested structure targets. 
Outermost key: class id for main category, middle key: sub category id, innermost key: class id; special keys "_sum" represent the total/aggregated values.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.PlanningData.assigned_priority" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">assigned_priority</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>sum priority of assigned orders</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="equipmentstatus-class">EquipmentStatus class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.EquipmentStatus"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code>, <code><span title="typing.Generic">Generic</span>[<span title="dynreact.base.model.P">P</span>]</code></p>







              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">EquipmentStatus</span><span class="p">(</span><span class="n">Model</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">P</span><span class="p">]):</span>

    <span class="n">targets</span><span class="p">:</span> <span class="n">EquipmentProduction</span>
    <span class="n">snapshot_id</span><span class="p">:</span> <span class="n">datetime</span>
    <span class="n">planning_period</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="n">datetime</span><span class="p">]</span>
    <span class="n">current_order</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Current order id&quot;</span>
    <span class="n">previous_order</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Previous order id&quot;</span>
    <span class="n">current_material</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Material ids belonging to the currently processed order, if not the complete order&quot;</span>
    <span class="c1"># @deprecated</span>
    <span class="n">current</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">deprecated</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="s2">&quot;DEPRECATED: use current_order and current_coils instead. (Either a coil id or order id)&quot;</span>
    <span class="c1"># @deprecated</span>
    <span class="n">previous</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">deprecated</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="s2">&quot;DEPRECATED: use previous_order instead. (Either a coil id or order id)&quot;</span>
    <span class="c1">#next: str|None = Field(None, description=&quot;Either a coil id or order id&quot;)</span>
    <span class="n">planning</span><span class="p">:</span> <span class="n">P</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># FIXME should never be None?</span>
    <span class="s2">&quot;Internal state of the optimization&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.EquipmentStatus.current_order" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">current_order</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Current order id</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.EquipmentStatus.previous_order" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">previous_order</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Previous order id</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.EquipmentStatus.current_material" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">current_material</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Material ids belonging to the currently processed order, if not the complete order</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.EquipmentStatus.current" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">current</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">deprecated</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>DEPRECATED: use current_order and current_coils instead. (Either a coil id or order id)</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.EquipmentStatus.previous" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">previous</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">deprecated</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>DEPRECATED: use previous_order instead. (Either a coil id or order id)</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.EquipmentStatus.planning" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">planning</span><span class="p">:</span> <span class="n">P</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Internal state of the optimization</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="equipmentproduction-class">EquipmentProduction class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.EquipmentProduction"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>







              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">EquipmentProduction</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>

    <span class="n">equipment</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">total_weight</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">lot_weight_range</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Weight restriction for lots in t&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.EquipmentProduction.lot_weight_range" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lot_weight_range</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Weight restriction for lots in t</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="productiontargets-class">ProductionTargets class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.ProductionTargets"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>







              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ProductionTargets</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>

    <span class="n">process</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">target_weight</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">EquipmentProduction</span><span class="p">]</span>
    <span class="s2">&quot;Target production by equipment id&quot;</span>
    <span class="n">period</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="n">datetime</span><span class="p">]</span>
    <span class="n">material_weights</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="o">|</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Produced quantity by material class id, in t. This may be a nested model, in case a hierarchical structure is needed. The special value </span><span class="se">\&quot;</span><span class="s2">_sum</span><span class="se">\&quot;</span><span class="s2"> represents the total weight.&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.ProductionTargets.target_weight" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">target_weight</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">EquipmentProduction</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Target production by equipment id</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.ProductionTargets.material_weights" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">material_weights</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Produced quantity by material class id, in t. This may be a nested model, in case a hierarchical structure is needed. The special value "_sum" represents the total weight.</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="storagelevel-class">StorageLevel class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.StorageLevel"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>







              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">StorageLevel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>

    <span class="n">storage</span><span class="p">:</span> <span class="nb">str</span>
    <span class="s2">&quot;Reference to the storage id&quot;</span>
    <span class="n">filling_level</span><span class="p">:</span> <span class="nb">float</span>
    <span class="s2">&quot;Total filling level. Must be a value between 0 and 1.&quot;</span>
    <span class="n">timestamp</span><span class="p">:</span> <span class="n">datetime</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;The timestamp when the level was recorded or for which it is predicted.&quot;</span>
    <span class="n">material_levels</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Material-specific filling levels in the range 0 - 1, referring to the total storage capacity. Keys: material class ids.&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.StorageLevel.storage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">storage</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Reference to the storage id</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.StorageLevel.filling_level" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">filling_level</span><span class="p">:</span> <span class="nb">float</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Total filling level. Must be a value between 0 and 1.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.StorageLevel.timestamp" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">timestamp</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>The timestamp when the level was recorded or for which it is predicted.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.StorageLevel.material_levels" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">material_levels</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Material-specific filling levels in the range 0 - 1, referring to the total storage capacity. Keys: material class ids.</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="orderassignment-class">OrderAssignment class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.OrderAssignment"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>


        <p>"Unassigned" is realized in terms of equipment=-1, lot="", lot_idx=-1</p>






              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OrderAssignment</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>  <span class="c1"># base for SolutionElement</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &quot;Unassigned&quot; is realized in terms of equipment=-1, lot=&quot;&quot;, lot_idx=-1</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">equipment</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">order</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">lot</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">lot_idx</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div><h2 id="productionplanning-class">ProductionPlanning class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.ProductionPlanning"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code>, <code><span title="typing.Generic">Generic</span>[<span title="dynreact.base.model.P">P</span>]</code></p>


        <p>The optimization needs to generate an object of this type</p>






              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ProductionPlanning</span><span class="p">(</span><span class="n">Model</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">P</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The optimization needs to generate an object of this type</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">process</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">order_assignments</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">OrderAssignment</span><span class="p">]</span>   <span class="c1"># &quot;sbest&quot;</span>
    <span class="s2">&quot;keys: order ids&quot;</span>
    <span class="n">equipment_status</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">EquipmentStatus</span><span class="p">[</span><span class="n">P</span><span class="p">]]</span>                  <span class="c1"># &quot;vbest&quot;</span>
    <span class="s2">&quot;keys: equipment ids&quot;</span>
    <span class="n">target_structure</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="o">|</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Produced quantity by material class id, in t. This may be a nested model, in case a hierarchical structure is needed. Special key </span><span class="se">\&quot;</span><span class="s2">_sum</span><span class="se">\&quot;</span><span class="s2"> represents the total/aggregated value.&quot;</span>
    <span class="n">total_priority</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="s2">&quot;Sum priority orders&quot;</span>
    <span class="n">previous_orders</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Initial conditions for the optimization&quot;</span>

    <span class="c1"># TODO cache results?</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_lots</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Lot</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: dictionary with keys = equipment ids, values = lots</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># keys: equipment, lot_id, lot_idx, order</span>
        <span class="k">for</span> <span class="n">order</span><span class="p">,</span> <span class="n">assignment</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">order_assignments</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">plant</span> <span class="o">=</span> <span class="n">assignment</span><span class="o">.</span><span class="n">equipment</span>
            <span class="k">if</span> <span class="n">plant</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">plant</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="n">plant</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">lot_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">assignment</span><span class="o">.</span><span class="n">lot</span>
            <span class="n">lot_idx</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">assignment</span><span class="o">.</span><span class="n">lot_idx</span>
            <span class="k">if</span> <span class="n">lot_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="n">plant</span><span class="p">]:</span>
                <span class="n">result</span><span class="p">[</span><span class="n">plant</span><span class="p">][</span><span class="n">lot_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">lot_orders</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">plant</span><span class="p">][</span><span class="n">lot_id</span><span class="p">]</span>
            <span class="n">lot_orders</span><span class="p">[</span><span class="n">lot_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">order</span>
        <span class="n">result_sorted</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Lot</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">plant_id</span><span class="p">,</span> <span class="n">lots</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">lots_sorted</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">lots</span><span class="p">)</span>
            <span class="n">plant_lots</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Lot</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">lot_id</span> <span class="ow">in</span> <span class="n">lots_sorted</span><span class="p">:</span>  <span class="c1"># TODO test</span>
                <span class="n">order_data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">lots</span><span class="p">[</span><span class="n">lot_id</span><span class="p">]</span>
                <span class="n">lot_indices</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">order_data</span><span class="p">)</span>
                <span class="n">lot</span> <span class="o">=</span> <span class="n">Lot</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">lot_id</span><span class="p">,</span> <span class="n">equipment</span><span class="o">=</span><span class="n">plant_id</span><span class="p">,</span> <span class="n">active</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">orders</span><span class="o">=</span><span class="p">[</span><span class="n">order_data</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">lot_indices</span><span class="p">])</span>
                <span class="n">plant_lots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lot</span><span class="p">)</span>
            <span class="n">result_sorted</span><span class="p">[</span><span class="n">plant_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">plant_lots</span>
        <span class="k">return</span> <span class="n">result_sorted</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_num_lots</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">planning</span><span class="o">.</span><span class="n">lots_count</span> <span class="k">for</span> <span class="n">status</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment_status</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="n">status</span><span class="o">.</span><span class="n">planning</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_targets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ProductionTargets</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">equipment_status</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># ?</span>
        <span class="n">period</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">equipment_status</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span><span class="o">.</span><span class="n">planning_period</span>
        <span class="n">targets</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">EquipmentProduction</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">plant</span><span class="p">:</span> <span class="n">status</span><span class="o">.</span><span class="n">targets</span> <span class="k">for</span> <span class="n">plant</span><span class="p">,</span> <span class="n">status</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment_status</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="k">return</span> <span class="n">ProductionTargets</span><span class="p">(</span><span class="n">process</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="p">,</span> <span class="n">target_weight</span><span class="o">=</span><span class="n">targets</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">period</span><span class="p">,</span> <span class="n">material_weights</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">target_structure</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.ProductionPlanning.get_lots" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_lots</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>dict[int, list[<a class="autorefs autorefs-internal" title="dynreact.base.model.Lot" href="#dynreact.base.model.Lot">Lot</a>]]</code>
              
              <div class="doc-md-description">
                <p>dictionary with keys = equipment ids, values = lots</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_lots</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Lot</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :return: dictionary with keys = equipment ids, values = lots</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># keys: equipment, lot_id, lot_idx, order</span>
    <span class="k">for</span> <span class="n">order</span><span class="p">,</span> <span class="n">assignment</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">order_assignments</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">plant</span> <span class="o">=</span> <span class="n">assignment</span><span class="o">.</span><span class="n">equipment</span>
        <span class="k">if</span> <span class="n">plant</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">plant</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="n">plant</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">lot_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">assignment</span><span class="o">.</span><span class="n">lot</span>
        <span class="n">lot_idx</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">assignment</span><span class="o">.</span><span class="n">lot_idx</span>
        <span class="k">if</span> <span class="n">lot_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="n">plant</span><span class="p">]:</span>
            <span class="n">result</span><span class="p">[</span><span class="n">plant</span><span class="p">][</span><span class="n">lot_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">lot_orders</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">plant</span><span class="p">][</span><span class="n">lot_id</span><span class="p">]</span>
        <span class="n">lot_orders</span><span class="p">[</span><span class="n">lot_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">order</span>
    <span class="n">result_sorted</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Lot</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">plant_id</span><span class="p">,</span> <span class="n">lots</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">lots_sorted</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">lots</span><span class="p">)</span>
        <span class="n">plant_lots</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Lot</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">lot_id</span> <span class="ow">in</span> <span class="n">lots_sorted</span><span class="p">:</span>  <span class="c1"># TODO test</span>
            <span class="n">order_data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">lots</span><span class="p">[</span><span class="n">lot_id</span><span class="p">]</span>
            <span class="n">lot_indices</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">order_data</span><span class="p">)</span>
            <span class="n">lot</span> <span class="o">=</span> <span class="n">Lot</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">lot_id</span><span class="p">,</span> <span class="n">equipment</span><span class="o">=</span><span class="n">plant_id</span><span class="p">,</span> <span class="n">active</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">orders</span><span class="o">=</span><span class="p">[</span><span class="n">order_data</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">lot_indices</span><span class="p">])</span>
            <span class="n">plant_lots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lot</span><span class="p">)</span>
        <span class="n">result_sorted</span><span class="p">[</span><span class="n">plant_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">plant_lots</span>
    <span class="k">return</span> <span class="n">result_sorted</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.ProductionPlanning.get_num_lots" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_num_lots</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">402</span>
<span class="normal">403</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_num_lots</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">planning</span><span class="o">.</span><span class="n">lots_count</span> <span class="k">for</span> <span class="n">status</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment_status</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="n">status</span><span class="o">.</span><span class="n">planning</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.ProductionPlanning.get_targets" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_targets</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_targets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ProductionTargets</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">equipment_status</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># ?</span>
    <span class="n">period</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">equipment_status</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span><span class="o">.</span><span class="n">planning_period</span>
    <span class="n">targets</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">EquipmentProduction</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">plant</span><span class="p">:</span> <span class="n">status</span><span class="o">.</span><span class="n">targets</span> <span class="k">for</span> <span class="n">plant</span><span class="p">,</span> <span class="n">status</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment_status</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="k">return</span> <span class="n">ProductionTargets</span><span class="p">(</span><span class="n">process</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="p">,</span> <span class="n">target_weight</span><span class="o">=</span><span class="n">targets</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">period</span><span class="p">,</span> <span class="n">material_weights</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">target_structure</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="materialclass-class">MaterialClass class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.MaterialClass"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>







              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MaterialClass</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>

    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="s2">&quot;A unique material class id&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">name_de</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">category</span><span class="p">:</span> <span class="nb">str</span>
    <span class="s2">&quot;A reference to the material category this class belongs to.&quot;</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">allowed_equipment</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Keys: process ids, values: equipment ids. &quot;</span>
    <span class="n">is_default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="s2">&quot;A class can be assigned the default role within a material category.&quot;</span>
    <span class="n">default_share</span><span class="p">:</span> <span class="nb">float</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">mapping</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.MaterialClass.id" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>A unique material class id</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.MaterialClass.category" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">category</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>A reference to the material category this class belongs to.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.MaterialClass.allowed_equipment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">allowed_equipment</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Keys: process ids, values: equipment ids.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.MaterialClass.is_default" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>A class can be assigned the default role within a material category.</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="materialcategory-class">MaterialCategory class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.MaterialCategory"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>







              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MaterialCategory</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>

    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="s2">&quot;A unique material category id&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">name_de</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">classes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">MaterialClass</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Mutually exclusive material classes. It is assumed</span>
<span class="sd">    that every material and order can be assigned to exactly one class within the category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">process_steps</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Optional list of process steps for which the category is potentially relevant in the mid-term planning.&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.MaterialCategory.id" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>A unique material category id</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.MaterialCategory.classes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">classes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">MaterialClass</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Mutually exclusive material classes. It is assumed
that every material and order can be assigned to exactly one class within the category.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="dynreact.base.model.MaterialCategory.process_steps" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_steps</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Optional list of process steps for which the category is potentially relevant in the mid-term planning.</p>
    </div>

</div>





  </div>

    </div>

</div><h2 id="site-class">Site class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.Site"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.LabeledItem" href="#dynreact.base.model.LabeledItem">LabeledItem</a></code></p>







              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Site</span><span class="p">(</span><span class="n">LabeledItem</span><span class="p">):</span>
    <span class="n">processes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Process</span><span class="p">]</span>
    <span class="n">equipment</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Equipment</span><span class="p">]</span>
    <span class="n">storages</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Storage</span><span class="p">]</span>
    <span class="n">material_categories</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">MaterialCategory</span><span class="p">]</span>
    <span class="n">logistic_costs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logistic costs for transfer of a complete order(?) from one plant to another (only within a single process stage, not considering</span>
<span class="sd">    transfer costs between processes)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#structure_planning: dict[str, StructurePlanningSettings]|None = None</span>
    <span class="n">lot_creation</span><span class="p">:</span> <span class="n">LotCreationSettings</span><span class="o">|</span><span class="kc">None</span><span class="o">=</span><span class="kc">None</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">get_process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">process</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">do_raise</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Process</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">process</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">proc</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">processes</span> <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">name_short</span> <span class="o">==</span> <span class="n">process</span> <span class="ow">or</span> <span class="n">p</span><span class="o">.</span><span class="n">synonyms</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">process</span> <span class="ow">in</span> <span class="n">p</span><span class="o">.</span><span class="n">synonyms</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">proc</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">do_raise</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Process not found: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">process</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">proc</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_process_by_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">process_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">do_raise</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Process</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">process_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">proc</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">processes</span> <span class="k">if</span> <span class="n">process_id</span> <span class="ow">in</span> <span class="n">p</span><span class="o">.</span><span class="n">process_ids</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">proc</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">do_raise</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Process not found: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">process_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">proc</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_equipment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plant_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">do_raise</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Equipment</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">plant_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">plant</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span> <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">plant_id</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">plant</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">do_raise</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Plant not found: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">plant_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">plant</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_equipment_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plant_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">do_raise</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Equipment</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">plant_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">plant</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span> <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">name_short</span> <span class="o">==</span> <span class="n">plant_name</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">plant</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">do_raise</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Plant not found by name: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">plant_name</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">plant</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_process_equipment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">process</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Equipment</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span> <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">process</span> <span class="o">==</span> <span class="n">process</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_storage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">storage</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">do_raise</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Storage</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">storage</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">stg</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">storages</span> <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">name_short</span> <span class="o">==</span> <span class="n">storage</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">stg</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">do_raise</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Storage not found &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">storage</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">stg</span>

<span class="c1"># Some changes in methods made by JOM / UPM)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_process_all_equipment</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Equipment</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.Site.get_process" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_process</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">do_raise</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">process</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">do_raise</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Process</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">process</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">proc</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">processes</span> <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">name_short</span> <span class="o">==</span> <span class="n">process</span> <span class="ow">or</span> <span class="n">p</span><span class="o">.</span><span class="n">synonyms</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">process</span> <span class="ow">in</span> <span class="n">p</span><span class="o">.</span><span class="n">synonyms</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">proc</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">do_raise</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Process not found: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">process</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">proc</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.Site.get_process_by_id" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_process_by_id</span><span class="p">(</span><span class="n">process_id</span><span class="p">,</span> <span class="n">do_raise</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_process_by_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">process_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">do_raise</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Process</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">process_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">proc</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">processes</span> <span class="k">if</span> <span class="n">process_id</span> <span class="ow">in</span> <span class="n">p</span><span class="o">.</span><span class="n">process_ids</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">proc</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">do_raise</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Process not found: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">process_id</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">proc</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.Site.get_equipment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_equipment</span><span class="p">(</span><span class="n">plant_id</span><span class="p">,</span> <span class="n">do_raise</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_equipment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plant_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">do_raise</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Equipment</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">plant_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">plant</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span> <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">plant_id</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">plant</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">do_raise</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Plant not found: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">plant_id</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">plant</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.Site.get_equipment_by_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_equipment_by_name</span><span class="p">(</span><span class="n">plant_name</span><span class="p">,</span> <span class="n">do_raise</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_equipment_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plant_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">do_raise</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Equipment</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">plant_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">plant</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span> <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">name_short</span> <span class="o">==</span> <span class="n">plant_name</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">plant</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">do_raise</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Plant not found by name: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">plant_name</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">plant</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.Site.get_process_equipment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_process_equipment</span><span class="p">(</span><span class="n">process</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">536</span>
<span class="normal">537</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_process_equipment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">process</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Equipment</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span> <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">process</span> <span class="o">==</span> <span class="n">process</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.Site.get_storage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_storage</span><span class="p">(</span><span class="n">storage</span><span class="p">,</span> <span class="n">do_raise</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_storage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">storage</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">do_raise</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Storage</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">storage</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">stg</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">storages</span> <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">name_short</span> <span class="o">==</span> <span class="n">storage</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">stg</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">do_raise</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Storage not found &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">storage</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">stg</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.Site.get_process_all_equipment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_process_all_equipment</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">548</span>
<span class="normal">549</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_process_all_equipment</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Equipment</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equipment</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="snapshot-class">Snapshot class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.Snapshot"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code>, <code><span title="typing.Generic">Generic</span>[<span title="dynreact.base.model.MATERIAL_PROPERTIES">MATERIAL_PROPERTIES</span>]</code></p>







              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Snapshot</span><span class="p">(</span><span class="n">Model</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">MATERIAL_PROPERTIES</span><span class="p">]):</span>
    <span class="n">timestamp</span><span class="p">:</span> <span class="n">datetime</span>
    <span class="s2">&quot;The timestamp serves as the unique snapshot id&quot;</span>
    <span class="n">orders</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Order</span><span class="p">[</span><span class="n">MATERIAL_PROPERTIES</span><span class="p">]]</span>
    <span class="n">material</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Material</span><span class="p">]</span>
    <span class="n">inline_material</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">MaterialOrderData</span><span class="p">]]</span>
    <span class="s2">&quot;Material ids currently being processed. Keys: plant ids, values: list of materials references.&quot;</span>
    <span class="n">lots</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Lot</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">examples</span><span class="o">=</span><span class="p">[{</span><span class="mi">1</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;PLANT1.01&quot;</span><span class="p">,</span> <span class="s2">&quot;equipment&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;active&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;orders&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">]}]}])</span>
    <span class="s2">&quot;Lots by plant ids. Keys: plant id, values: Lots&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">do_raise</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Order</span><span class="p">[</span><span class="n">MATERIAL_PROPERTIES</span><span class="p">]</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
        <span class="n">order</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">o</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">orders</span> <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">order_id</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">order</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">do_raise</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Order &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">order_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; not found&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">order</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_material</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">material_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">do_raise</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Material</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">material</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">material_id</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">material</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">do_raise</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Material &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">material_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; not found&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">material</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_order_lot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">site</span><span class="p">:</span> <span class="n">Site</span><span class="p">,</span> <span class="n">order_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">process</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lot</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lots</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">plant_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">site</span><span class="o">.</span><span class="n">get_process_equipment</span><span class="p">(</span><span class="n">process</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">plant</span> <span class="ow">in</span> <span class="n">plant_ids</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">plant</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lots</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">lots</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Lot</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lots</span><span class="p">[</span><span class="n">plant</span><span class="p">]</span>
            <span class="n">lot</span><span class="p">:</span> <span class="n">Lot</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">l</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lots</span> <span class="k">if</span> <span class="n">order_id</span> <span class="ow">in</span> <span class="n">l</span><span class="o">.</span><span class="n">orders</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">lot</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">lot</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_material_equipment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">site</span><span class="p">:</span> <span class="n">Site</span><span class="p">,</span> <span class="n">equipment_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">storage</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">assigned</span><span class="p">:</span> <span class="nb">int</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">assigned</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span><span class="p">([</span><span class="n">coil</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">coil</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span> <span class="k">if</span> \
                        <span class="n">equipment_name</span> <span class="ow">in</span> <span class="p">[</span><span class="n">site</span><span class="o">.</span><span class="n">get_equipment</span><span class="p">(</span><span class="n">ieq</span><span class="p">)</span><span class="o">.</span><span class="n">name_short</span> \
                                <span class="k">for</span> <span class="n">ieq</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_order</span><span class="p">(</span><span class="n">coil</span><span class="o">.</span><span class="n">order</span><span class="p">)</span><span class="o">.</span><span class="n">allowed_equipment</span><span class="p">]</span> \
                        <span class="ow">and</span> <span class="n">coil</span><span class="o">.</span><span class="n">current_storage</span> <span class="o">==</span> <span class="n">storage</span> <span class="ow">and</span> \
                        <span class="n">coil</span><span class="o">.</span><span class="n">current_equipment</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span><span class="p">([</span><span class="n">coil</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">coil</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span> <span class="k">if</span> \
                        <span class="n">equipment_name</span> <span class="ow">in</span> <span class="p">[</span><span class="n">site</span><span class="o">.</span><span class="n">get_equipment</span><span class="p">(</span><span class="n">ieq</span><span class="p">)</span><span class="o">.</span><span class="n">name_short</span> \
                                <span class="k">for</span> <span class="n">ieq</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_order</span><span class="p">(</span><span class="n">coil</span><span class="o">.</span><span class="n">order</span><span class="p">)</span><span class="o">.</span><span class="n">allowed_equipment</span><span class="p">]</span> \
                            <span class="ow">and</span> <span class="n">coil</span><span class="o">.</span><span class="n">current_storage</span> <span class="o">==</span> <span class="n">storage</span> <span class="ow">and</span> \
                                <span class="n">coil</span><span class="o">.</span><span class="n">current_equipment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> \
                                <span class="n">coil</span><span class="o">.</span><span class="n">current_equipment_name</span> <span class="o">!=</span> <span class="n">equipment_name</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_orders_equipment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">site</span><span class="p">:</span> <span class="n">Site</span><span class="p">,</span> <span class="n">equipment_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> \
                             <span class="n">storage</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">assigned</span><span class="p">:</span><span class="nb">int</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a list of orders when all the materials in the order have as </span>
<span class="sd">        current_eqipment_name equal to tje equipment_name.</span>

<span class="sd">        :param site: The site containing plant details.</span>
<span class="sd">        :param equipment_name: targeted the name of the equipment.</span>
<span class="sd">        :param storage: Useless since the latest input from BFI (2025-02-25).</span>
<span class="sd">        :param assigned: Useless and kept because of OSS_Plantform compatiiity </span>
<span class="sd">        :return: A list of order IDs representing the selected orders.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Modified by JOM 2025-02-24</span>
        <span class="c1"># For RAS there is not current_equipment involving Not assigned Materials.</span>
        <span class="c1"># Then, assigned is useless and code gets simplified.</span>
        <span class="c1"># if assigned &lt; 0:</span>
        <span class="c1"># else:</span>
        <span class="c1">#     return(list(set([coil.order for coil in self.material if \</span>
        <span class="c1">#                     equipment_name in [site.get_equipment(ieq).name_short \</span>
        <span class="c1">#                         for ieq in self.get_order(coil.order).allowed_equipment] \</span>
        <span class="c1">#                     and coil.current_storage == storage and \</span>
        <span class="c1">#                         coil.current_equipment is not None and \</span>
        <span class="c1">#                         coil.current_equipment_name != equipment_name] )) )</span>
        <span class="c1">#</span>
        <span class="c1"># Retrieve a list of orders based on current equipment name</span>
        <span class="n">unique_orders</span> <span class="o">=</span> <span class="p">{</span><span class="n">coil</span><span class="o">.</span><span class="n">order</span> <span class="k">for</span> <span class="n">coil</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span> 
                        <span class="k">if</span> <span class="n">coil</span><span class="o">.</span><span class="n">current_equipment_name</span> <span class="o">==</span> <span class="n">site</span><span class="o">.</span><span class="n">get_equipment_by_name</span><span class="p">(</span>\
                            <span class="n">equipment_name</span><span class="p">)</span><span class="o">.</span><span class="n">name_short</span><span class="p">}</span>
        <span class="n">result_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="n">unique_orders</span><span class="p">:</span>
            <span class="n">belongs_to_equipment</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span>
                <span class="n">coil</span><span class="o">.</span><span class="n">current_equipment_name</span> <span class="o">==</span> <span class="n">equipment_name</span> 
                <span class="k">for</span> <span class="n">coil</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span> <span class="k">if</span> <span class="n">coil</span><span class="o">.</span><span class="n">order</span> <span class="o">==</span> <span class="n">order</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">belongs_to_equipment</span><span class="p">:</span>
                <span class="n">result_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result_list</span>
    <span class="c1">#</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_material_selected_orders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orders</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">plant_names</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> \
                                    <span class="n">site</span><span class="p">:</span> <span class="n">Site</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a list of selected materials (coils) based on the specified orders and plant names.</span>
<span class="sd">        Since the requirement from RAS a single coil represents the whole order.</span>
<span class="sd">        Therefore, only one coil/material is extracted from each order.</span>
<span class="sd">        ** Storage constraints were removed from BFI 2025-02-22, then site param is useless</span>
<span class="sd">        ** coil.current_equipment_name in plant_names  was removed from the selection if,</span>
<span class="sd">        enabling orders from other equipments. Then plant_names is useless as well</span>

<span class="sd">        :param orders: A list of order IDs to filter.</span>
<span class="sd">        :param plant_names: A list of plant names to filter.</span>
<span class="sd">        :param site: The site containing plant details.</span>
<span class="sd">        :return: A list of coil IDs representing the selected orders (one coil.id per order).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">#</span>
        <span class="c1"># Diccionario para almacenar solo un coil.id por coil.order</span>
        <span class="n">selected_coils</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">coil</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">coil</span><span class="o">.</span><span class="n">order</span> <span class="ow">in</span> <span class="n">orders</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">coil</span><span class="o">.</span><span class="n">order</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">selected_coils</span><span class="p">:</span>
                    <span class="n">selected_coils</span><span class="p">[</span><span class="n">coil</span><span class="o">.</span><span class="n">order</span><span class="p">]</span> <span class="o">=</span> <span class="n">coil</span><span class="o">.</span><span class="n">id</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">selected_coils</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.Snapshot.get_order" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_order</span><span class="p">(</span><span class="n">order_id</span><span class="p">,</span> <span class="n">do_raise</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">do_raise</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Order</span><span class="p">[</span><span class="n">MATERIAL_PROPERTIES</span><span class="p">]</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
    <span class="n">order</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">o</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">orders</span> <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">order_id</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">order</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">do_raise</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Order &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">order_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; not found&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">order</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.Snapshot.get_material" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_material</span><span class="p">(</span><span class="n">material_id</span><span class="p">,</span> <span class="n">do_raise</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_material</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">material_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">do_raise</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Material</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">material</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">material_id</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">material</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">do_raise</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Material &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">material_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; not found&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">material</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.Snapshot.get_order_lot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_order_lot</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">order_id</span><span class="p">,</span> <span class="n">process</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_order_lot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">site</span><span class="p">:</span> <span class="n">Site</span><span class="p">,</span> <span class="n">order_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">process</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lot</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lots</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">plant_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">site</span><span class="o">.</span><span class="n">get_process_equipment</span><span class="p">(</span><span class="n">process</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">plant</span> <span class="ow">in</span> <span class="n">plant_ids</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">plant</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lots</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">lots</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Lot</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lots</span><span class="p">[</span><span class="n">plant</span><span class="p">]</span>
        <span class="n">lot</span><span class="p">:</span> <span class="n">Lot</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">l</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lots</span> <span class="k">if</span> <span class="n">order_id</span> <span class="ow">in</span> <span class="n">l</span><span class="o">.</span><span class="n">orders</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">lot</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">lot</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.Snapshot.get_material_equipment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_material_equipment</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">equipment_name</span><span class="p">,</span> <span class="n">storage</span><span class="p">,</span> <span class="n">assigned</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_material_equipment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">site</span><span class="p">:</span> <span class="n">Site</span><span class="p">,</span> <span class="n">equipment_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">storage</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">assigned</span><span class="p">:</span> <span class="nb">int</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="k">if</span> <span class="n">assigned</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span><span class="p">([</span><span class="n">coil</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">coil</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span> <span class="k">if</span> \
                    <span class="n">equipment_name</span> <span class="ow">in</span> <span class="p">[</span><span class="n">site</span><span class="o">.</span><span class="n">get_equipment</span><span class="p">(</span><span class="n">ieq</span><span class="p">)</span><span class="o">.</span><span class="n">name_short</span> \
                            <span class="k">for</span> <span class="n">ieq</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_order</span><span class="p">(</span><span class="n">coil</span><span class="o">.</span><span class="n">order</span><span class="p">)</span><span class="o">.</span><span class="n">allowed_equipment</span><span class="p">]</span> \
                    <span class="ow">and</span> <span class="n">coil</span><span class="o">.</span><span class="n">current_storage</span> <span class="o">==</span> <span class="n">storage</span> <span class="ow">and</span> \
                    <span class="n">coil</span><span class="o">.</span><span class="n">current_equipment</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span><span class="p">([</span><span class="n">coil</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">coil</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span> <span class="k">if</span> \
                    <span class="n">equipment_name</span> <span class="ow">in</span> <span class="p">[</span><span class="n">site</span><span class="o">.</span><span class="n">get_equipment</span><span class="p">(</span><span class="n">ieq</span><span class="p">)</span><span class="o">.</span><span class="n">name_short</span> \
                            <span class="k">for</span> <span class="n">ieq</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_order</span><span class="p">(</span><span class="n">coil</span><span class="o">.</span><span class="n">order</span><span class="p">)</span><span class="o">.</span><span class="n">allowed_equipment</span><span class="p">]</span> \
                        <span class="ow">and</span> <span class="n">coil</span><span class="o">.</span><span class="n">current_storage</span> <span class="o">==</span> <span class="n">storage</span> <span class="ow">and</span> \
                            <span class="n">coil</span><span class="o">.</span><span class="n">current_equipment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> \
                            <span class="n">coil</span><span class="o">.</span><span class="n">current_equipment_name</span> <span class="o">!=</span> <span class="n">equipment_name</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.Snapshot.get_orders_equipment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_orders_equipment</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">equipment_name</span><span class="p">,</span> <span class="n">storage</span><span class="p">,</span> <span class="n">assigned</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Get a list of orders when all the materials in the order have as 
current_eqipment_name equal to tje equipment_name.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>site</code></b>
                  (<code><a class="autorefs autorefs-internal" title="dynreact.base.model.Site" href="#dynreact.base.model.Site">Site</a></code>)
              
              <div class="doc-md-description">
                <p>The site containing plant details.</p>
              </div>
            </li>
            <li>
              <b><code>equipment_name</code></b>
                  (<code>str</code>)
              
              <div class="doc-md-description">
                <p>targeted the name of the equipment.</p>
              </div>
            </li>
            <li>
              <b><code>storage</code></b>
                  (<code>str</code>)
              
              <div class="doc-md-description">
                <p>Useless since the latest input from BFI (2025-02-25).</p>
              </div>
            </li>
            <li>
              <b><code>assigned</code></b>
                  (<code>int</code>, default:
                      <code>-1</code>
)
              
              <div class="doc-md-description">
                <p>Useless and kept because of OSS_Plantform compatiiity</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>list[str]</code>
              
              <div class="doc-md-description">
                <p>A list of order IDs representing the selected orders.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_orders_equipment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">site</span><span class="p">:</span> <span class="n">Site</span><span class="p">,</span> <span class="n">equipment_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> \
                         <span class="n">storage</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">assigned</span><span class="p">:</span><span class="nb">int</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a list of orders when all the materials in the order have as </span>
<span class="sd">    current_eqipment_name equal to tje equipment_name.</span>

<span class="sd">    :param site: The site containing plant details.</span>
<span class="sd">    :param equipment_name: targeted the name of the equipment.</span>
<span class="sd">    :param storage: Useless since the latest input from BFI (2025-02-25).</span>
<span class="sd">    :param assigned: Useless and kept because of OSS_Plantform compatiiity </span>
<span class="sd">    :return: A list of order IDs representing the selected orders.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Modified by JOM 2025-02-24</span>
    <span class="c1"># For RAS there is not current_equipment involving Not assigned Materials.</span>
    <span class="c1"># Then, assigned is useless and code gets simplified.</span>
    <span class="c1"># if assigned &lt; 0:</span>
    <span class="c1"># else:</span>
    <span class="c1">#     return(list(set([coil.order for coil in self.material if \</span>
    <span class="c1">#                     equipment_name in [site.get_equipment(ieq).name_short \</span>
    <span class="c1">#                         for ieq in self.get_order(coil.order).allowed_equipment] \</span>
    <span class="c1">#                     and coil.current_storage == storage and \</span>
    <span class="c1">#                         coil.current_equipment is not None and \</span>
    <span class="c1">#                         coil.current_equipment_name != equipment_name] )) )</span>
    <span class="c1">#</span>
    <span class="c1"># Retrieve a list of orders based on current equipment name</span>
    <span class="n">unique_orders</span> <span class="o">=</span> <span class="p">{</span><span class="n">coil</span><span class="o">.</span><span class="n">order</span> <span class="k">for</span> <span class="n">coil</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span> 
                    <span class="k">if</span> <span class="n">coil</span><span class="o">.</span><span class="n">current_equipment_name</span> <span class="o">==</span> <span class="n">site</span><span class="o">.</span><span class="n">get_equipment_by_name</span><span class="p">(</span>\
                        <span class="n">equipment_name</span><span class="p">)</span><span class="o">.</span><span class="n">name_short</span><span class="p">}</span>
    <span class="n">result_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="n">unique_orders</span><span class="p">:</span>
        <span class="n">belongs_to_equipment</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span>
            <span class="n">coil</span><span class="o">.</span><span class="n">current_equipment_name</span> <span class="o">==</span> <span class="n">equipment_name</span> 
            <span class="k">for</span> <span class="n">coil</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span> <span class="k">if</span> <span class="n">coil</span><span class="o">.</span><span class="n">order</span> <span class="o">==</span> <span class="n">order</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">belongs_to_equipment</span><span class="p">:</span>
            <span class="n">result_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result_list</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.base.model.Snapshot.get_material_selected_orders" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_material_selected_orders</span><span class="p">(</span><span class="n">orders</span><span class="p">,</span> <span class="n">plant_names</span><span class="p">,</span> <span class="n">site</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Get a list of selected materials (coils) based on the specified orders and plant names.
Since the requirement from RAS a single coil represents the whole order.
Therefore, only one coil/material is extracted from each order.
** Storage constraints were removed from BFI 2025-02-22, then site param is useless
** coil.current_equipment_name in plant_names  was removed from the selection if,
enabling orders from other equipments. Then plant_names is useless as well</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>orders</code></b>
                  (<code>list[str]</code>)
              
              <div class="doc-md-description">
                <p>A list of order IDs to filter.</p>
              </div>
            </li>
            <li>
              <b><code>plant_names</code></b>
                  (<code>list[str]</code>)
              
              <div class="doc-md-description">
                <p>A list of plant names to filter.</p>
              </div>
            </li>
            <li>
              <b><code>site</code></b>
                  (<code><a class="autorefs autorefs-internal" title="dynreact.base.model.Site" href="#dynreact.base.model.Site">Site</a></code>)
              
              <div class="doc-md-description">
                <p>The site containing plant details.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>list[str]</code>
              
              <div class="doc-md-description">
                <p>A list of coil IDs representing the selected orders (one coil.id per order).</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
            <details class="quote">
              <summary>Source code in <code>dynreact\base\model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_material_selected_orders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orders</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">plant_names</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> \
                                <span class="n">site</span><span class="p">:</span> <span class="n">Site</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a list of selected materials (coils) based on the specified orders and plant names.</span>
<span class="sd">    Since the requirement from RAS a single coil represents the whole order.</span>
<span class="sd">    Therefore, only one coil/material is extracted from each order.</span>
<span class="sd">    ** Storage constraints were removed from BFI 2025-02-22, then site param is useless</span>
<span class="sd">    ** coil.current_equipment_name in plant_names  was removed from the selection if,</span>
<span class="sd">    enabling orders from other equipments. Then plant_names is useless as well</span>

<span class="sd">    :param orders: A list of order IDs to filter.</span>
<span class="sd">    :param plant_names: A list of plant names to filter.</span>
<span class="sd">    :param site: The site containing plant details.</span>
<span class="sd">    :return: A list of coil IDs representing the selected orders (one coil.id per order).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="c1"># Diccionario para almacenar solo un coil.id por coil.order</span>
    <span class="n">selected_coils</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">coil</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">coil</span><span class="o">.</span><span class="n">order</span> <span class="ow">in</span> <span class="n">orders</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">coil</span><span class="o">.</span><span class="n">order</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">selected_coils</span><span class="p">:</span>
                <span class="n">selected_coils</span><span class="p">[</span><span class="n">coil</span><span class="o">.</span><span class="n">order</span><span class="p">]</span> <span class="o">=</span> <span class="n">coil</span><span class="o">.</span><span class="n">id</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">selected_coils</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="longtermtargets-class">LongTermTargets class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.LongTermTargets"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.Model" href="#dynreact.base.model.Model">Model</a></code></p>


        <p>Long term production targets for different product categories, as input for the long-term
planning component.
The source of this could be user input, an order backlog, etc.</p>






              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">LongTermTargets</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Long term production targets for different product categories, as input for the long-term</span>
<span class="sd">    planning component.</span>
<span class="sd">    The source of this could be user input, an order backlog, etc.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Identifier specifying the source of the long-term targets.&quot;</span>
    <span class="n">comment</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Optional description&quot;</span>
    <span class="n">period</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="n">datetime</span><span class="p">]</span>
    <span class="n">production_targets</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Production targets for the planning period by material class. Note that the material classes are not disjoint, </span>
<span class="sd">    only those belonging to a single material category are. Keys: material class ids, values: tons</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">total_production</span><span class="p">:</span> <span class="nb">float</span>
    <span class="s2">&quot;Total production target in tons.&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div><h2 id="midtermtargets-class">MidTermTargets class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.base.model.MidTermTargets"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="dynreact.base.model.LongTermTargets" href="#dynreact.base.model.LongTermTargets">LongTermTargets</a></code></p>


        <p>Production targets assigned to shorter periods such as days or shifts.
Note: this class extends LongTermTargets in order to retain information about its source.</p>






              <details class="quote">
                <summary>Source code in <code>dynreact\base\model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MidTermTargets</span><span class="p">(</span><span class="n">LongTermTargets</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Production targets assigned to shorter periods such as days or shifts.</span>
<span class="sd">    Note: this class extends LongTermTargets in order to retain information about its source.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">scheduler</span><span class="p">:</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="s2">&quot;Identifier specifying the source of the mid-term targets.&quot;</span>
    <span class="n">sub_periods</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="n">datetime</span><span class="p">]]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A chronological list of non-overlapping time intervals within the larger planning period,</span>
<span class="sd">    typically corresponding to production shifts.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">production_sub_targets</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">ProductionTargets</span><span class="p">]]</span>
    <span class="s2">&quot;Production targets for the planning sub periods. Keys: process ids, values: list of production targets, covering all planning sub periods chronologically.&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="lots_optimizer.html" class="btn btn-neutral float-left" title="Lots optimizer"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="snapshot_provider.html" class="btn btn-neutral float-right" title="Snapshot provider">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="lots_optimizer.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="snapshot_provider.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
