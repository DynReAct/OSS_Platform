{"openapi":"3.1.0","info":{"title":"DynReAct production planning service","description":"DynReAct mid-term production planning service for steel plants.","contact":{"name":"VDEh-Betriebsforschungsinstitut (BFI)","url":"https://www.bfi.de/","email":"info@bfi.de"},"version":"0.0.1"},"paths":{"/site":{"get":{"tags":["dynreact"],"summary":"Get a list of process steps and plants configured for the site","operationId":"site_site_get","parameters":[{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Site"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/snapshots":{"get":{"tags":["dynreact"],"summary":"Get a list of available snapshots identified by their timestamps","operationId":"snapshots_snapshots_get","parameters":[{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"},{"type":"null"}],"description":"Optional start time.","examples":["now-2d","2023-04-25T00:00Z"],"title":"Start"},"description":"Optional start time.","examples":{"now-2d":{"description":"Two days ago","value":"now-2d"},"2023-04-25T00:00Z":{"description":"A specific timestamp","value":"2023-04-25T00:00Z"}}},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"},{"type":"null"}],"description":"Optional start time.","examples":["now","2023-04-26T0:00Z"],"title":"End"},"description":"Optional start time.","examples":{"now":{"description":"Current timestamp","value":"now"},"2023-04-26T00:00Z":{"description":"A specific timestamp","value":"2023-04-26T00:00Z"}}},{"name":"sort","in":"query","required":false,"schema":{"enum":["asc","desc"],"type":"string","default":"asc","title":"Sort"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"string","format":"date-time"},"title":"Response Snapshots Snapshots Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/snapshots/{timestamp}/aggregation":{"get":{"tags":["dynreact"],"summary":"Get a specific snapshot; the one with largest timestamp <= the provided timestamp","operationId":"aggregate_material_snapshots__timestamp__aggregation_get","parameters":[{"name":"timestamp","in":"path","required":true,"schema":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"}],"examples":["now","now-1d","2023-12-04T23:59Z"],"title":"Timestamp"},"examples":{"now":{"description":"Get the most recent snapshot","value":"now"},"now-1d":{"description":"Get yesterday's snapshot","value":"now-1d"},"2023-04-25T23:59Z":{"description":"A specific timestamp","value":"2023-04-25T23:59Z"}}},{"name":"level","in":"query","required":false,"schema":{"enum":["plant","storage","process"],"type":"string","description":"The aggregation level.","default":"plant","title":"Level"},"description":"The aggregation level."},{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/AggregatedMaterial"},"title":"Response Aggregate Material Snapshots  Timestamp  Aggregation Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/snapshots/{timestamp}":{"get":{"tags":["dynreact"],"summary":"Get a specific snapshot; the one with largest timestamp <= the provided timestamp","operationId":"snapshot_snapshots__timestamp__get","parameters":[{"name":"timestamp","in":"path","required":true,"schema":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"}],"examples":["now","now-1d","2023-12-04T23:59Z"],"title":"Timestamp"},"examples":{"now":{"description":"Get the most recent snapshot","value":"now"},"now-1d":{"description":"Get yesterday's snapshot","value":"now-1d"},"2023-04-25T23:59Z":{"description":"A specific timestamp","value":"2023-04-25T23:59Z"}}},{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Snapshot"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/lots":{"get":{"tags":["dynreact"],"summary":"Get lots from a specific snapshot","operationId":"lots_lots_get","parameters":[{"name":"snapshot","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"},{"type":"null"}],"description":"Specify the snapshot id. If not set, the latest snapshot will be used","examples":[null,"now","now-1d","2023-12-04T23:59Z"],"title":"Snapshot"},"description":"Specify the snapshot id. If not set, the latest snapshot will be used","examples":{"unset":{"description":"No snapshot timestamp specified, will use latest"},"now":{"description":"Get the most recent snapshot","value":"now"},"now-1d":{"description":"Get yesterday's snapshot","value":"now-1d"},"2023-04-25T23:59Z":{"description":"A specific timestamp","value":"2023-04-25T23:59Z"}}},{"name":"equipment","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"null"}],"description":"Filter by equipment","examples":[null,1,"PKL01"],"title":"Equipment"},"description":"Filter by equipment","examples":{"unset":{"description":"No equipment filter"},"1":{"description":"Specify equipment by equipment id","value":1},"PKL01":{"description":"Specify equipment by name","value":"PKL01"}}},{"name":"process","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"null"}],"description":"Filter by process stage","examples":[null,"PKL",1],"title":"Process"},"description":"Filter by process stage","examples":{"unset":{"description":"No process filter"},"PKL":{"description":"Specify process by name","value":"PKL"},"1":{"description":"Specify process by process id","value":1}}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"description":"Lot status. Keys: 1: created; 2: blocked; 3: released; 4: in progress; 5: completed.","examples":[null,1,2,3,4,5],"title":"Status"},"description":"Lot status. Keys: 1: created; 2: blocked; 3: released; 4: in progress; 5: completed.","examples":{"unset":{"description":"No status filter"},"1":{"description":"Created","value":[1]}}},{"name":"active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter on active/inactive lots","title":"Active"},"description":"Filter on active/inactive lots"},{"name":"reschedulable","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter on reschedulable lots","title":"Reschedulable"},"description":"Filter on reschedulable lots"},{"name":"complete","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter on complete lots, i.e. those ready to be processed","title":"Complete"},"description":"Filter on complete lots, i.e. those ready to be processed"},{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Lot"},"title":"Response Lots Lots Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/planning-horizon":{"get":{"tags":["dynreact"],"summary":"Get the planning horizon by equipment id based on scheduled lots","operationId":"planning_horizon_planning_horizon_get","parameters":[{"name":"snapshot","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"},{"type":"null"}],"description":"Specify the snapshot id. If not set, the latest snapshot will be used","examples":[null,"now","now-1d","2023-12-04T23:59Z"],"title":"Snapshot"},"description":"Specify the snapshot id. If not set, the latest snapshot will be used","examples":{"unset":{"description":"No snapshot timestamp specified, will use latest"},"now":{"description":"Get the most recent snapshot","value":"now"},"now-1d":{"description":"Get yesterday's snapshot","value":"now-1d"},"2023-04-25T23:59Z":{"description":"A specific timestamp","value":"2023-04-25T23:59Z"}}},{"name":"equipment","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},{"type":"null"}],"description":"Filter by equipment","examples":[null,1,"PKL01"],"title":"Equipment"},"description":"Filter by equipment","examples":{"unset":{"description":"No equipment filter"},"1":{"description":"Specify equipment by equipment id","value":[1]},"PKL01":{"description":"Specify equipment by name","value":["PKL01"]}}},{"name":"process","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"null"}],"description":"Filter by process stage","examples":[null,"PKL",1],"title":"Process"},"description":"Filter by process stage","examples":{"unset":{"description":"No process filter"},"PKL":{"description":"Specify process by name","value":"PKL"},"1":{"description":"Specify process by process id","value":1}}},{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string","format":"date-time"},"title":"Response Planning Horizon Planning Horizon Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/equipmentdowntimes":{"get":{"tags":["dynreact"],"summary":"Get plant downtimes. Deprecated, use planned-shifts instead.","operationId":"plant_downtimes_equipmentdowntimes_get","deprecated":true,"parameters":[{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start time. If neither start nor end time are specified, start is set to now","examples":["now","now+1d","2023-04-25T00:00Z"],"title":"Start"},"description":"Start time. If neither start nor end time are specified, start is set to now","examples":{"now":{"description":"Get current downtimes","value":"now"},"now+1d":{"description":"Get yesterday's snapshot","value":"now+2d"},"2023-04-25T00:00Z":{"description":"A specific timestamp","value":"2023-04-25T00:00Z"}}},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"},{"type":"null"}],"description":"End time. If neither start nor end time are specified, end is set to now+60d","examples":["now+2d","2023-04-27T00:00Z"],"title":"End"},"description":"End time. If neither start nor end time are specified, end is set to now+60d","examples":{"now+2d":{"description":"Two days from now","value":"now+2d"},"2023-04-27T00:00Z":{"description":"A specific timestamp","value":"2023-04-27T00:00Z"}}},{"name":"process","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Process step id","title":"Process"},"description":"Process step id"},{"name":"plant","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"description":"Plant id","title":"Plant"},"description":"Plant id"},{"name":"sort","in":"query","required":false,"schema":{"enum":["asc","desc"],"type":"string","default":"asc","title":"Sort"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":250,"title":"Limit"}},{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EquipmentDowntime"},"title":"Response Plant Downtimes Equipmentdowntimes Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/costs/transitions":{"post":{"tags":["dynreact"],"summary":"Invoke cost service for order to order or coil to coil transitions. Global objectives and constraints are ignored.","operationId":"transition_cost_costs_transitions_post","parameters":[{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EquipmentTransition"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"number","title":"Response Transition Cost Costs Transitions Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/costs/logistics":{"post":{"tags":["dynreact"],"summary":"Query logistics costs for transfer of material from one equipment to the other.","operationId":"logistics_cost_costs_logistics_post","parameters":[{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaterialTransfer"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"number","title":"Response Logistics Cost Costs Logistics Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/costs/status/{equipment_id}/{snapshot_timestamp}":{"get":{"tags":["dynreact"],"summary":"Get the initial plant status for an optimization task.","operationId":"plant_status_costs_status__equipment_id___snapshot_timestamp__get","parameters":[{"name":"equipment_id","in":"path","required":true,"schema":{"type":"integer","title":"Equipment Id"}},{"name":"snapshot_timestamp","in":"path","required":true,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"string"}],"examples":["now","now-1d"],"title":"Snapshot Timestamp"},"examples":{"now":{"description":"Get the most recent snapshot","value":"now"},"now-1d":{"description":"Get yesterday's snapshot","value":"now-1d"},"2023-12-04T23:59Z":{"description":"A specific timestamp","value":"2023-12-04T23:59Z"}}},{"name":"unit","in":"query","required":false,"schema":{"enum":["material","order"],"type":"string","description":"Treat materials as basic unit or orders (default)?","default":"order","title":"Unit"},"description":"Treat materials as basic unit or orders (default)?"},{"name":"planning_horizon","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"duration"},{"type":"string"},{"type":"null"}],"default":"P1D","title":"Planning Horizon"},"examples":{"2d":{"value":"2d","description":"A duration of two days"}}},{"name":"target_weight","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Target weight. If not specified, it is determined from the snapshot","title":"Target Weight"},"description":"Target weight. If not specified, it is determined from the snapshot"},{"name":"current","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Order id or material id; determined from snapshot by default","title":"Current"},"description":"Order id or material id; determined from snapshot by default"},{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EquipmentStatus"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/costs/transitions-stateful":{"post":{"tags":["dynreact"],"summary":"Invoke cost service for order to order or coil to coil transitions, taking into account global objectives and constraints.","operationId":"target_function_update_costs_transitions_stateful_post","parameters":[{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EquipmentTransitionStateful"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransitionInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/lots/optimization":{"post":{"tags":["dynreact"],"summary":"Invoke mid term service/lots creation.","operationId":"run_lots_optimization_lots_optimization_post","parameters":[{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LotsOptimizationInput"}}}},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"integer","title":"Response Run Lots Optimization Lots Optimization Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/lots/optimization/{optimization_id}":{"delete":{"tags":["dynreact"],"summary":"Stop the lots optimization. Returns true if the optimization was stopped, false if it was not running","operationId":"stop_lots_optimization_lots_optimization__optimization_id__delete","parameters":[{"name":"optimization_id","in":"path","required":true,"schema":{"type":"integer","title":"Optimization Id"}},{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"boolean","title":"Response Stop Lots Optimization Lots Optimization  Optimization Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["dynreact"],"summary":"Query the optimization result. Returns intermediate results while not done.","operationId":"get_lots_optimization_results_lots_optimization__optimization_id__get","parameters":[{"name":"optimization_id","in":"path","required":true,"schema":{"type":"integer","title":"Optimization Id"}},{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LotsOptimizationResults"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/longtermplanning":{"get":{"tags":["dynreact"],"summary":"Long term planning results with start times in the specified period","operationId":"get_longtermplanning_results_longtermplanning_get","parameters":[{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start time. If neither start nor end time are specified, start is set to now.","examples":["now","now-31d","2023-04-25T00:00Z"],"title":"Start"},"description":"Start time. If neither start nor end time are specified, start is set to now.","examples":{"now":{"description":"Get next month's planning","value":"now"},"now-31d":{"description":"Get last month's planning","value":"now-31d"},"2023-04-25T00:00Z":{"description":"A specific timestamp","value":"2023-04-25T00:00Z"}}},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"},{"type":"null"}],"description":"End time. If neither start nor end time are specified, end is set to now+31d","examples":["now","now+31d","2023-04-27T00:00Z"],"title":"End"},"description":"End time. If neither start nor end time are specified, end is set to now+31d","examples":{"now":{"description":"Get last month's planning","value":"now"},"now+31d":{"description":"A month ahead of now","value":"now+31d"},"2023-04-27T00:00Z":{"description":"A specific timestamp","value":"2023-04-27T00:00Z"}}},{"name":"sort","in":"query","required":false,"schema":{"enum":["asc","desc"],"type":"string","default":"asc","title":"Sort"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":10,"title":"Limit"}},{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}},"title":"Response Get Longtermplanning Results Longtermplanning Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/longtermplanning/{start}/{solution_id}":{"get":{"tags":["dynreact"],"summary":"Long term planning results with start times in the specified period","operationId":"get_longtermplanning_result_longtermplanning__start___solution_id__get","parameters":[{"name":"start","in":"path","required":true,"schema":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"}],"description":"Start time. ","examples":["now","now-31d","2023-04-25T00:00Z"],"title":"Start"},"description":"Start time. ","examples":{"now":{"description":"Get next month's planning","value":"now"},"now-31d":{"description":"Get last month's planning","value":"now-31d"},"2023-04-25T00:00Z":{"description":"A specific timestamp","value":"2023-04-25T00:00Z"}}},{"name":"solution_id","in":"path","required":true,"schema":{"type":"string","description":"Unique solution id","title":"Solution Id"},"description":"Unique solution id"},{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/LongTermPlanningResults"},{"type":"null"}],"title":"Response Get Longtermplanning Result Longtermplanning  Start   Solution Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/planned-shifts":{"get":{"tags":["dynreact"],"summary":"Get working shifts by equipment id","operationId":"planned_shifts_planned_shifts_get","parameters":[{"name":"process","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Process steps to be included. Equipment for all processes will be included if not specified.","title":"Process"},"description":"Process steps to be included. Equipment for all processes will be included if not specified."},{"name":"equipment","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"anyOf":[{"type":"integer"},{"type":"string"}]}},{"type":"null"}],"description":"Equipment ids to be included. All equipments will be included in the response if not specified (unless the process filter is set)","title":"Equipment"},"description":"Equipment ids to be included. All equipments will be included in the response if not specified (unless the process filter is set)"},{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start time. If neither start nor end time are specified, start is set to now.","examples":["now","now-31d","2023-04-25T00:00Z"],"title":"Start"},"description":"Start time. If neither start nor end time are specified, start is set to now.","examples":{"now":{"description":"Get next month's planning","value":"now"},"now-31d":{"description":"Get last month's planning","value":"now-31d"},"2023-04-25T00:00Z":{"description":"A specific timestamp","value":"2023-04-25T00:00Z"}}},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"},{"type":"null"}],"description":"End time, optional.","examples":["now+31d","2023-04-27T00:00Z"],"title":"End"},"description":"End time, optional.","examples":{"now+31d":{"description":"A month ahead of now","value":"now+31d"},"2023-04-27T00:00Z":{"description":"A specific timestamp","value":"2023-04-27T00:00Z"}}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/PlannedWorkingShift"}},"title":"Response Planned Shifts Planned Shifts Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics":{"get":{"tags":["dynreact"],"summary":"Prometheus metrics for the DynReAct service","operationId":"metrics_metrics_get","parameters":[{"name":"username","in":"query","required":false,"schema":{"title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AggregatedMaterial":{"properties":{"total_weight":{"type":"number","title":"Total Weight"},"material_weights":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Material Weights"}},"type":"object","required":["total_weight"],"title":"AggregatedMaterial"},"Equipment":{"properties":{"throughput_capacity":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Throughput Capacity","description":"unit: t/h"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"name_de":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name De"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"description_de":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description De"},"id":{"type":"integer","title":"Id"},"name_short":{"type":"string","title":"Name Short"},"process":{"type":"string","title":"Process"},"storage_in":{"type":"string","title":"Storage In","description":"Default storage location of material waiting to be processed by this equipment"},"storage_out":{"type":"string","title":"Storage Out","description":"Default storage locations of material processed by this equipment"}},"type":"object","required":["id","name_short","process"],"title":"Equipment","description":"Equipment, such as a production plant."},"EquipmentDowntime":{"properties":{"equipment":{"type":"integer","title":"Equipment"},"start":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start","description":"Start of downtime, if known"},"end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End","description":"End of downtime, if known. This is the scheduled end if in the future. TODO: do we need to model more uncertain situations?"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"}},"type":"object","required":["equipment"],"title":"EquipmentDowntime","description":"@beta: currently not used"},"EquipmentProduction":{"properties":{"equipment":{"type":"integer","title":"Equipment"},"total_weight":{"type":"number","title":"Total Weight"},"lot_weight_range":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},{"type":"null"}],"title":"Lot Weight Range","description":"Weight restriction for lots in t"}},"type":"object","required":["equipment","total_weight"],"title":"EquipmentProduction"},"EquipmentStatus":{"properties":{"targets":{"$ref":"#/components/schemas/EquipmentProduction"},"snapshot_id":{"type":"string","format":"date-time","title":"Snapshot Id"},"planning_period":{"prefixItems":[{"type":"string","format":"date-time"},{"type":"string","format":"date-time"}],"type":"array","maxItems":2,"minItems":2,"title":"Planning Period"},"current_order":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Order","description":"Current order id"},"previous_order":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Previous Order","description":"Previous order id"},"current_material":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Current Material","description":"Material ids belonging to the currently processed order, if not the complete order"},"current":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current","description":"DEPRECATED: use current_order and current_coils instead. (Either a coil id or order id)","deprecated":true},"previous":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Previous","description":"DEPRECATED: use previous_order instead. (Either a coil id or order id)","deprecated":true},"planning":{"anyOf":[{"$ref":"#/components/schemas/PlanningData"},{"type":"null"}],"description":"Internal state of the optimization"}},"type":"object","required":["targets","snapshot_id","planning_period"],"title":"EquipmentStatus"},"EquipmentTransition":{"properties":{"equipment":{"type":"integer","title":"Equipment"},"snapshot_id":{"type":"string","format":"date-time","title":"Snapshot Id"},"current_order":{"type":"string","title":"Current Order","description":"Current order id"},"next_order":{"type":"string","title":"Next Order","description":"Next order id"},"current_material":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Material","description":"Current coil id"},"next_material":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Next Material","description":"Next coil id"}},"type":"object","required":["equipment","snapshot_id","current_order","next_order"],"title":"EquipmentTransition"},"EquipmentTransitionStateful":{"properties":{"equipment":{"type":"integer","title":"Equipment"},"snapshot_id":{"type":"string","format":"date-time","title":"Snapshot Id"},"current_order":{"type":"string","title":"Current Order","description":"Current order id"},"next_order":{"type":"string","title":"Next Order","description":"Next order id"},"current_material":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Material","description":"Current coil id"},"next_material":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Next Material","description":"Next coil id"},"equipment_status":{"$ref":"#/components/schemas/EquipmentStatus","description":"Optimization status, typically retrieved either from a previous optimization run, or from the ...init function"}},"type":"object","required":["equipment","snapshot_id","current_order","next_order","equipment_status"],"title":"EquipmentTransitionStateful"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LongTermPlanningResults":{"properties":{"targets":{"$ref":"#/components/schemas/MidTermTargets"},"storage_levels":{"anyOf":[{"items":{"additionalProperties":{"$ref":"#/components/schemas/StorageLevel"},"type":"object"},"type":"array"},{"type":"null"}],"title":"Storage Levels"}},"type":"object","required":["targets","storage_levels"],"title":"LongTermPlanningResults"},"Lot":{"properties":{"id":{"type":"string","title":"Id"},"equipment":{"type":"integer","title":"Equipment"},"active":{"type":"boolean","title":"Active"},"status":{"type":"integer","title":"Status","description":"1: created; 2: blocked; 3: released; 4: in progress; 5: completed"},"orders":{"items":{"type":"string"},"type":"array","title":"Orders"},"processing_status":{"anyOf":[{"type":"string","enum":["PENDING","STARTED","FINISHED"]},{"type":"null"}],"title":"Processing Status"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"weight":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Weight","description":"Convenience field for storing the total lot weight. Must be equal to the sum of the order weights. In tons."},"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time","description":"Planned start time for lot processing."},"end_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time","description":"Planned end time for lot processing."}},"type":"object","required":["id","equipment","active","status","orders"],"title":"Lot"},"LotCreationOrderBacklogSettings":{"properties":{"default_select_predecessors_lot":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Default Select Predecessors Lot","description":"A list of process steps at which scheduled orders are usually included in the order backlog for lot creation"},"default_select_predecessors_all":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Default Select Predecessors All","description":"A list of process steps at which all orders (scheduled or not) are usually included in the order backlog for lot creation"}},"type":"object","title":"LotCreationOrderBacklogSettings"},"LotCreationSettings":{"properties":{"processes":{"additionalProperties":{"$ref":"#/components/schemas/ProcessLotCreationSettings"},"type":"object","title":"Processes","description":"Settings per process step"},"default_iterations":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Default Iterations","description":"Default number of iterations if no process-specific number is specified"}},"type":"object","required":["processes"],"title":"LotCreationSettings"},"LotCreationStructureSettings":{"properties":{"primary_category":{"type":"string","title":"Primary Category","description":"Reference to a MaterialCategory"},"primary_classes":{"items":{"type":"string"},"type":"array","title":"Primary Classes","description":"References to the MaterialClasses in primary_category.classes. For the time being only a single entry is supported."}},"type":"object","required":["primary_category","primary_classes"],"title":"LotCreationStructureSettings","description":"Defines a hierarchy for structure categories in the mid term planning;"},"LotsOptimizationInput":{"properties":{"snapshot":{"type":"string","format":"date-time","title":"Snapshot","description":"Snapshot id"},"targets":{"$ref":"#/components/schemas/ProductionTargets","description":"Production targets"},"orders":{"items":{"type":"string"},"type":"array","title":"Orders","description":"Orders to include in the optimization."},"initial_solution":{"anyOf":[{"$ref":"#/components/schemas/ProductionPlanning-Input"},{"type":"null"}],"description":"Starting point for the optimization"},"min_due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Min Due Date","description":"Minimum due date","default":[null]},"trace_results":{"type":"boolean","title":"Trace Results","description":"Set to true in order to store all intermediate results","default":false}},"type":"object","required":["snapshot","targets","orders"],"title":"LotsOptimizationInput"},"LotsOptimizationResults":{"properties":{"snapshot":{"type":"string","format":"date-time","title":"Snapshot","description":"Snapshot id"},"targets":{"$ref":"#/components/schemas/ProductionTargets","description":"Production targets"},"orders":{"items":{"type":"string"},"type":"array","title":"Orders","description":"Orders included in the optimization."},"results":{"items":{"$ref":"#/components/schemas/ProductionPlanning-Output"},"type":"array","title":"Results","description":"Note: if trace_results in the input data was False, this list will contain a single entry. Otherwise all intermediate results"},"objective_function":{"items":{"$ref":"#/components/schemas/ObjectiveFunction"},"type":"array","title":"Objective Function","description":"Values of the objective function for all intermediate results, irrespectively of whether trace_results is set or not"},"done":{"type":"boolean","title":"Done","description":"Optimization completed?"}},"type":"object","required":["snapshot","targets","orders","results","objective_function","done"],"title":"LotsOptimizationResults"},"Material":{"properties":{"id":{"type":"string","title":"Id","description":"The material id"},"order":{"type":"string","title":"Order"},"weight":{"type":"number","title":"Weight","description":"Material weight in t"},"order_position":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Order Position","description":"@deprecated: 1-based index of material in order; note that this always refers to a lot"},"order_positions":{"anyOf":[{"additionalProperties":{"type":"integer"},"type":"object"},{"type":"null"}],"title":"Order Positions","description":"1-based index of material in order for specific lots (keys: lot id)"},"current_equipment_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Equipment Name"},"current_equipment":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Equipment"},"current_storage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Storage","description":"Note: this field is only relevant for short-term planning. The mid-term planning is based on current_equipment only."},"current_process":{"type":"integer","title":"Current Process","description":"Process id, cf. field Process#process_ids"},"current_process_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Process Name","description":"Process stage"},"properties":{"anyOf":[{"$ref":"#/components/schemas/Model"},{"type":"null"}],"description":"Material-specific properties."}},"additionalProperties":true,"type":"object","required":["id","order","weight","current_process"],"title":"Material"},"MaterialCategory":{"properties":{"id":{"type":"string","title":"Id","description":"A unique material category id"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"name_de":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name De"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"classes":{"items":{"$ref":"#/components/schemas/MaterialClass"},"type":"array","title":"Classes","description":"Mutually exclusive material classes. It is assumed\nthat every material and order can be assigned to exactly one class within the category."},"process_steps":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Process Steps","description":"Optional list of process steps for which the category is potentially relevant in the mid-term planning."}},"type":"object","required":["id","classes"],"title":"MaterialCategory"},"MaterialClass":{"properties":{"id":{"type":"string","title":"Id","description":"A unique material class id"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"name_de":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name De"},"category":{"type":"string","title":"Category","description":"A reference to the material category this class belongs to."},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"allowed_equipment":{"anyOf":[{"additionalProperties":{"items":{"type":"integer"},"type":"array"},"type":"object"},{"type":"null"}],"title":"Allowed Equipment","description":"Keys: process ids, values: equipment ids. "},"is_default":{"type":"boolean","title":"Is Default","description":"A class can be assigned the default role within a material category.","default":false},"default_share":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Default Share"},"mapping":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mapping"}},"type":"object","required":["id","category"],"title":"MaterialClass"},"MaterialConstraint":{"properties":{"excluded":{"items":{"type":"string"},"type":"array","title":"Excluded","description":"Material class ids"}},"type":"object","required":["excluded"],"title":"MaterialConstraint"},"MaterialOrderData":{"properties":{"order":{"type":"string","title":"Order"},"material":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Material"}},"type":"object","required":["order"],"title":"MaterialOrderData"},"MaterialTransfer":{"properties":{"snapshot_id":{"type":"string","format":"date-time","title":"Snapshot Id"},"new_equipment":{"type":"integer","title":"New Equipment","description":"New equipment the order or material is transferred to"},"order":{"type":"string","title":"Order","description":"Order to be transferred to new equipment"},"material":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Material","description":"Optional: individual material from the order to be transferred."}},"type":"object","required":["snapshot_id","new_equipment","order"],"title":"MaterialTransfer"},"MidTermTargets":{"properties":{"source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source","description":"Identifier specifying the source of the long-term targets."},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment","description":"Optional description"},"period":{"prefixItems":[{"type":"string","format":"date-time"},{"type":"string","format":"date-time"}],"type":"array","maxItems":2,"minItems":2,"title":"Period"},"production_targets":{"additionalProperties":{"type":"number"},"type":"object","title":"Production Targets","description":"Production targets for the planning period by material class. Note that the material classes are not disjoint, \nonly those belonging to a single material category are. Keys: material class ids, values: tons"},"total_production":{"type":"number","title":"Total Production","description":"Total production target in tons."},"scheduler":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scheduler","description":"Identifier specifying the source of the mid-term targets."},"sub_periods":{"items":{"prefixItems":[{"type":"string","format":"date-time"},{"type":"string","format":"date-time"}],"type":"array","maxItems":2,"minItems":2},"type":"array","title":"Sub Periods","description":"A chronological list of non-overlapping time intervals within the larger planning period,\ntypically corresponding to production shifts."},"production_sub_targets":{"additionalProperties":{"items":{"$ref":"#/components/schemas/ProductionTargets"},"type":"array"},"type":"object","title":"Production Sub Targets","description":"Production targets for the planning sub periods. Keys: process ids, values: list of production targets, covering all planning sub periods chronologically."}},"type":"object","required":["period","production_targets","total_production","sub_periods","production_sub_targets"],"title":"MidTermTargets","description":"Production targets assigned to shorter periods such as days or shifts.\nNote: this class extends LongTermTargets in order to retain information about its source."},"Model":{"properties":{},"type":"object","title":"Model"},"ObjectiveFunction":{"properties":{"total_value":{"type":"number","title":"Total Value","description":"The overall objective function value"},"additive_costs":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Additive Costs","description":"The sum of individual components that are monotonously increasing with respect to adding orders; excluding for instance the \nweight_deviation, lot_size_deviation and structure_deviation components, but potentially also certain custom parts.\nIf unset, the mentioned values are subtracted from total_value."},"lots_count":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lots Count","description":"Penalty for number of lots"},"transition_costs":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Transition Costs","description":"Penalty for order to order transitions"},"logistic_costs":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Logistic Costs","description":"Penalty for necessary logistics"},"weight_deviation":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Weight Deviation","description":"Penalty for deviating from the targeted production size"},"lot_size_deviation":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lot Size Deviation","description":"Penalty for deviating from the targeted lot sizes"},"structure_deviation":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Structure Deviation","description":"Penalty for deviating from the targeted material structure"},"priority_costs":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Priority Costs","description":"Penalty for order priority"},"assignment_costs":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Assignment Costs","description":"Costs for unfavourable order to equipment assignments (see CostProvider.assignment_costs())"}},"additionalProperties":true,"type":"object","required":["total_value"],"title":"ObjectiveFunction","description":"Note that this class may have use-case dependent extra fields"},"Order":{"properties":{"id":{"type":"string","title":"Id"},"due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Due Date","description":"Due date"},"target_weight":{"type":"number","title":"Target Weight","description":"Target weight in t"},"actual_weight":{"type":"number","title":"Actual Weight","description":"Sum of individual material weights in t"},"material_count":{"type":"integer","title":"Material Count","description":"Number of units in this order","default":0},"material_classes":{"additionalProperties":{"type":"string"},"type":"object","title":"Material Classes","description":"Keys: material category id, values: material class ids","default":{}},"allowed_equipment":{"items":{"type":"integer"},"type":"array","title":"Allowed Equipment"},"current_equipment":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Current Equipment"},"current_processes":{"items":{"type":"integer"},"type":"array","title":"Current Processes"},"active_processes":{"additionalProperties":{"type":"string","enum":["PENDING","STARTED","FINISHED"]},"type":"object","title":"Active Processes"},"lot":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lot","description":"DEPRECATED, use lots field instead","deprecated":true},"lots":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Lots","description":"Lot ids by process steps"},"lot_position":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Lot Position","description":"DEPRECATED: use lot_positions instead. (1-based index of order in lot)","deprecated":true},"lot_positions":{"anyOf":[{"additionalProperties":{"type":"integer"},"type":"object"},{"type":"null"}],"title":"Lot Positions","description":"1-based index of order in lots, by process step"},"material_properties":{"anyOf":[{"type":"object"},{"$ref":"#/components/schemas/Model"}],"title":"Material Properties","description":"Use-case specific material characteristics."},"priority":{"type":"integer","title":"Priority","description":"Order priority","default":0}},"type":"object","required":["id","target_weight","actual_weight","allowed_equipment","current_processes","active_processes","material_properties"],"title":"Order"},"OrderAssignment":{"properties":{"equipment":{"type":"integer","title":"Equipment"},"order":{"type":"string","title":"Order"},"lot":{"type":"string","title":"Lot"},"lot_idx":{"type":"integer","title":"Lot Idx"}},"type":"object","required":["equipment","order","lot","lot_idx"],"title":"OrderAssignment","description":"\"Unassigned\" is realized in terms of equipment=-1, lot=\"\", lot_idx=-1"},"PlannedWorkingShift":{"properties":{"equipment":{"type":"integer","title":"Equipment"},"period":{"prefixItems":[{"type":"string","format":"date-time"},{"type":"string","format":"date-time"}],"type":"array","maxItems":2,"minItems":2,"title":"Period"},"worktime":{"type":"string","format":"duration","title":"Worktime"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason","description":"Reason for downtime, etc."}},"type":"object","required":["equipment","period","worktime"],"title":"PlannedWorkingShift"},"PlanningData":{"properties":{"target_fct":{"type":"number","title":"Target Fct","description":"Current value of the target function","default":0.0},"transition_costs":{"type":"number","title":"Transition Costs","default":0.0},"logistic_costs":{"type":"number","title":"Logistic Costs","default":0.0},"assignment_costs":{"type":"number","title":"Assignment Costs","default":0.0},"lots_count":{"type":"integer","title":"Lots Count","default":0},"lot_weights":{"items":{"type":"number"},"type":"array","title":"Lot Weights","description":"Lot weights in tons.","default":[]},"orders_count":{"type":"integer","title":"Orders Count","default":0},"delta_weight":{"type":"number","title":"Delta Weight","description":"Deviation from target weight in t. Positive for missing tonnage.","default":0.0},"material_structure":{"anyOf":[{"additionalProperties":{"additionalProperties":{"type":"number"},"type":"object"},"type":"object"},{"type":"null"}],"title":"Material Structure","description":"Keep track of material classes. Outer key: category id, inner key: class id; special keys \"_sum\" represent the total/aggregated values"},"main_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Main Category","description":"For nested structure planning, the main category."},"nested_material_structure":{"anyOf":[{"additionalProperties":{"additionalProperties":{"additionalProperties":{"type":"number"},"type":"object"},"type":"object"},"type":"object"},{"type":"null"}],"title":"Nested Material Structure","description":"Keep track of nested material classes. Only used in case of nested structure targets. \nOutermost key: class id for main category, middle key: sub category id, innermost key: class id; special keys \"_sum\" represent the total/aggregated values."},"min_due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Min Due Date"},"assigned_priority":{"type":"integer","title":"Assigned Priority","description":"sum priority of assigned orders","default":0}},"additionalProperties":true,"type":"object","title":"PlanningData","description":"This class holds the internal state of the optimization algorithm"},"Process":{"properties":{"throughput_capacity":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Throughput Capacity","description":"unit: t/h"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"name_de":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name De"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"description_de":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description De"},"name_short":{"type":"string","minLength":1,"title":"Name Short","description":"Short name uniquely identifying the process2.","examples":["VA","BZ"]},"process_ids":{"items":{"type":"integer"},"type":"array","title":"Process Ids","description":"Internal process id(s)"},"synonyms":{"anyOf":[{"items":{"type":"string"},"type":"array","minItems":1},{"type":"null"}],"title":"Synonyms","description":"Alternative short names.","examples":["VEA"]},"next_steps":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Next Steps","description":"Possible follow-up process steps."},"process_group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Process Group","description":"Id for a group of processes."}},"type":"object","required":["name_short","process_ids"],"title":"Process"},"ProcessLotCreationSettings":{"properties":{"plannable":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Plannable","description":"Default: true"},"structure":{"anyOf":[{"$ref":"#/components/schemas/LotCreationStructureSettings"},{"type":"null"}]},"order_backlog":{"anyOf":[{"$ref":"#/components/schemas/LotCreationOrderBacklogSettings"},{"type":"null"}]},"lot_sizes":{"anyOf":[{"additionalProperties":{"$ref":"#/components/schemas/TargetLotSize"},"type":"object"},{"$ref":"#/components/schemas/TargetLotSize"},{"type":"null"}],"title":"Lot Sizes","description":"The target lot size can be specified either per equipment, or globally for all resources of the process"},"total_size":{"anyOf":[{"type":"number"},{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Total Size","description":"The preselected target size in tons for the lot creation. It can be adapted by the user. Either a global setting for the process step, or individual settings per equipment."},"default_iterations":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Default Iterations","description":"Default number of iterations for the process step"}},"type":"object","title":"ProcessLotCreationSettings"},"ProductionPlanning-Input":{"properties":{"process":{"type":"string","title":"Process"},"order_assignments":{"additionalProperties":{"$ref":"#/components/schemas/OrderAssignment"},"type":"object","title":"Order Assignments","description":"keys: order ids"},"equipment_status":{"additionalProperties":{"$ref":"#/components/schemas/EquipmentStatus"},"type":"object","title":"Equipment Status","description":"keys: equipment ids"},"target_structure":{"anyOf":[{"additionalProperties":{"anyOf":[{"type":"number"},{"additionalProperties":{"type":"number"},"type":"object"}]},"type":"object"},{"type":"null"}],"title":"Target Structure","description":"Produced quantity by material class id, in t. This may be a nested model, in case a hierarchical structure is needed. Special key \"_sum\" represents the total/aggregated value."},"total_priority":{"type":"integer","title":"Total Priority","description":"Sum priority orders","default":0},"previous_orders":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Previous Orders","description":"Initial conditions for the optimization"}},"type":"object","required":["process","order_assignments","equipment_status"],"title":"ProductionPlanning","description":"The optimization needs to generate an object of this type"},"ProductionPlanning-Output":{"properties":{"process":{"type":"string","title":"Process"},"order_assignments":{"additionalProperties":{"$ref":"#/components/schemas/OrderAssignment"},"type":"object","title":"Order Assignments","description":"keys: order ids"},"equipment_status":{"additionalProperties":{"$ref":"#/components/schemas/EquipmentStatus"},"type":"object","title":"Equipment Status","description":"keys: equipment ids"},"target_structure":{"anyOf":[{"additionalProperties":{"anyOf":[{"type":"number"},{"additionalProperties":{"type":"number"},"type":"object"}]},"type":"object"},{"type":"null"}],"title":"Target Structure","description":"Produced quantity by material class id, in t. This may be a nested model, in case a hierarchical structure is needed. Special key \"_sum\" represents the total/aggregated value."},"total_priority":{"type":"integer","title":"Total Priority","description":"Sum priority orders","default":0},"previous_orders":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Previous Orders","description":"Initial conditions for the optimization"}},"type":"object","required":["process","order_assignments","equipment_status"],"title":"ProductionPlanning","description":"The optimization needs to generate an object of this type"},"ProductionTargets":{"properties":{"process":{"type":"string","title":"Process"},"target_weight":{"additionalProperties":{"$ref":"#/components/schemas/EquipmentProduction"},"type":"object","title":"Target Weight","description":"Target production by equipment id"},"period":{"prefixItems":[{"type":"string","format":"date-time"},{"type":"string","format":"date-time"}],"type":"array","maxItems":2,"minItems":2,"title":"Period"},"material_weights":{"anyOf":[{"additionalProperties":{"anyOf":[{"type":"number"},{"additionalProperties":{"type":"number"},"type":"object"}]},"type":"object"},{"type":"null"}],"title":"Material Weights","description":"Produced quantity by material class id, in t. This may be a nested model, in case a hierarchical structure is needed. The special value \"_sum\" represents the total weight."}},"type":"object","required":["process","target_weight","period"],"title":"ProductionTargets"},"Site":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"name_de":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name De"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"description_de":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description De"},"processes":{"items":{"$ref":"#/components/schemas/Process"},"type":"array","title":"Processes"},"equipment":{"items":{"$ref":"#/components/schemas/Equipment"},"type":"array","title":"Equipment"},"storages":{"items":{"$ref":"#/components/schemas/Storage"},"type":"array","title":"Storages"},"material_categories":{"items":{"$ref":"#/components/schemas/MaterialCategory"},"type":"array","title":"Material Categories"},"logistic_costs":{"anyOf":[{"additionalProperties":{"additionalProperties":{"type":"number"},"type":"object"},"type":"object"},{"type":"null"}],"title":"Logistic Costs","description":"Logistic costs for transfer of a complete order(?) from one plant to another (only within a single process stage, not considering\ntransfer costs between processes)"},"lot_creation":{"anyOf":[{"$ref":"#/components/schemas/LotCreationSettings"},{"type":"null"}]}},"type":"object","required":["processes","equipment","storages","material_categories"],"title":"Site"},"Snapshot":{"properties":{"timestamp":{"type":"string","format":"date-time","title":"Timestamp","description":"The timestamp serves as the unique snapshot id"},"orders":{"items":{"$ref":"#/components/schemas/Order"},"type":"array","title":"Orders"},"material":{"items":{"$ref":"#/components/schemas/Material"},"type":"array","title":"Material"},"inline_material":{"additionalProperties":{"items":{"$ref":"#/components/schemas/MaterialOrderData"},"type":"array"},"type":"object","title":"Inline Material","description":"Material ids currently being processed. Keys: plant ids, values: list of materials references."},"lots":{"additionalProperties":{"items":{"$ref":"#/components/schemas/Lot"},"type":"array"},"type":"object","title":"Lots","description":"Lots by plant ids. Keys: plant id, values: Lots","examples":[{"1":[{"active":true,"equipment":1,"id":"PLANT1.01","orders":["1","2","3"],"status":1}]}]}},"type":"object","required":["timestamp","orders","material","inline_material","lots"],"title":"Snapshot"},"Storage":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"name_de":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name De"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"description_de":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description De"},"name_short":{"type":"string","title":"Name Short"},"equipment":{"items":{"type":"integer"},"type":"array","title":"Equipment","description":"Equipment served by this storage primarily."},"capacity_weight":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Capacity Weight","description":"Capacity in t."},"capacity_items":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Capacity Items","description":"Capacity in items / material."},"target_filling_level":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Target Filling Level","description":"A number between 0 and 1"},"material_constraints":{"anyOf":[{"$ref":"#/components/schemas/MaterialConstraint"},{"type":"null"}],"description":"Constraints on the type of material supported by this storage."}},"type":"object","required":["name_short","equipment"],"title":"Storage","description":"Storage for materials."},"StorageLevel":{"properties":{"storage":{"type":"string","title":"Storage","description":"Reference to the storage id"},"filling_level":{"type":"number","title":"Filling Level","description":"Total filling level. Must be a value between 0 and 1."},"timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Timestamp","description":"The timestamp when the level was recorded or for which it is predicted."},"material_levels":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Material Levels","description":"Material-specific filling levels in the range 0 - 1, referring to the total storage capacity. Keys: material class ids."}},"type":"object","required":["storage","filling_level"],"title":"StorageLevel"},"TargetLotSize":{"properties":{"min":{"type":"number","title":"Min"},"max":{"type":"number","title":"Max"}},"type":"object","required":["min","max"],"title":"TargetLotSize"},"TransitionInfo":{"properties":{"status":{"$ref":"#/components/schemas/EquipmentStatus"},"costs":{"$ref":"#/components/schemas/ObjectiveFunction"}},"type":"object","required":["status","costs"],"title":"TransitionInfo"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}},"tags":[{"name":"dynreact"}]}