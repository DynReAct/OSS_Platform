<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>Log - Dynreact ShortTermPlanning</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Log";
        var mkdocs_page_input_path = "log.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="index.html" class="icon icon-home"> Dynreact ShortTermPlanning
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="" href="../index.html">Back</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="index.html">General</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="agent.html">Agent</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="material.html">Material</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="equipment.html">Equipment</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="common.html">Common</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Log</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#log-class">Log class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.shortterm.log.Log">Log</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.shortterm.log.Log.write_log">write_log</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.shortterm.log.Log.callback_on_topic_not_available">callback_on_topic_not_available</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.shortterm.log.Log.callback_on_not_match">callback_on_not_match</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.shortterm.log.Log.setup_logger">setup_logger</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.shortterm.log.Log.handle_write_action">handle_write_action</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.shortterm.log.Log.handle_exit_action">handle_exit_action</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.shortterm.log.Log.handle_create_action">handle_create_action</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.shortterm.log.Log.handle_check_action">handle_check_action</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.shortterm.log.Log.handle_pinganswer_action">handle_pinganswer_action</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.shortterm.log.Log.handle_start_action">handle_start_action</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.shortterm.log.Log.handle_askresults_action">handle_askresults_action</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dynreact.shortterm.log.Log.callback_before_message">callback_before_message</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="functions.html">Functions</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="cleankafka.html">Clean_kafka</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="shorttermplanning.html">ShortTermPlanning</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Dynreact ShortTermPlanning</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Log</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="log-module">Log module</h1>
<p>First Prototype of Kubernetes oriented solution for the LOG service</p>
<hr />
<h2 id="log-class">Log class</h2>


<div class="doc doc-object doc-class">



<a id="dynreact.shortterm.log.Log"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="agent.Agent">Agent</span></code></p>


        <pre><code>Class holding the methods relevant for the operation of the Log agent,
which is in charge for storing all the messages exchanged between the
different agents through Kafka brokering system.
</code></pre>
<p>Attributes:
    topic     (str): Topic driving the relevant converstaion.
    agent     (str): Name of the agent creating the object.
    kafka_ip  (str): IP address and TCP port of the broker.
    left_path (str): Path to place the log file.
    log_file  (str): Name of the log file.
    verbose   (int): Level of details being saved.</p>
<p>.. _Google Python Style Guide:
   https://google.github.io/styleguide/pyguide.html</p>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="dynreact.shortterm.log.Log.write_log" class="doc doc-heading">
            <code class="highlight language-python">write_log(msg, action='WRITE')</code>

</h2>


    <div class="doc doc-contents ">

        <p>Function writing a message to the log itself</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>msg</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>Message to be stored.</p>
              </div>
            </li>
            <li>
              <b><code>action</code></b>
                  (<code>str</code>, default:
                      <code>&#39;WRITE&#39;</code>
)
              –
              <div class="doc-md-description">
                <p>Action Name (WRITE, EXIT, etc.)</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.shortterm.log.Log.callback_on_topic_not_available" class="doc doc-heading">
            <code class="highlight language-python">callback_on_topic_not_available()</code>

</h2>


    <div class="doc doc-contents ">

        <p>Function to create the topic when it is not available</p>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.shortterm.log.Log.callback_on_not_match" class="doc doc-heading">
            <code class="highlight language-python">callback_on_not_match(dctmsg)</code>

</h2>


    <div class="doc doc-contents ">

        <p>When the LOG is not the destination, write the message in the log file and record the results.
This allows the LOG to record all the messages exchanged within the topic.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>dctmsg</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Dictionary supporting the message exchange</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.shortterm.log.Log.setup_logger" class="doc doc-heading">
            <code class="highlight language-python">setup_logger()</code>

</h2>


    <div class="doc doc-contents ">

        <p>Set up a Logger object</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>Logger object</code>
              –
              <div class="doc-md-description">
                <p>Logger object</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.shortterm.log.Log.handle_write_action" class="doc doc-heading">
            <code class="highlight language-python">handle_write_action(full_msg)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Handles the WRITE action.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>full_msg</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Message dictionary</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.shortterm.log.Log.handle_exit_action" class="doc doc-heading">
            <code class="highlight language-python">handle_exit_action(dctmsg)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Handles the EXIT action.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>dctmsg</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Message dictionary</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>str</code>
              –
              <div class="doc-md-description">
                <p>Status of the handling</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.shortterm.log.Log.handle_create_action" class="doc doc-heading">
            <code class="highlight language-python">handle_create_action(dctmsg)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Handles the CREATE action.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>dctmsg</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Message dictionary</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>str</code>
              –
              <div class="doc-md-description">
                <p>Status of the handling</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.shortterm.log.Log.handle_check_action" class="doc doc-heading">
            <code class="highlight language-python">handle_check_action(dctmsg)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Sets the total number of agents and probes all agents to ping to the LOG agent
to check their existence before the auction starts.
It has been observed that the agents receive the instruction to ping
even when they have been created after this message was produced,
so it is not necessary to call this method more than once.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>dctmsg</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Dictionary object holding the message</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>str</code>
              –
              <div class="doc-md-description">
                <p>Status of the handling</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.shortterm.log.Log.handle_pinganswer_action" class="doc doc-heading">
            <code class="highlight language-python">handle_pinganswer_action(dctmsg)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Adds the agent to the set of present agents.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>dctmsg</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Dictionary for the message</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>str</code>
              –
              <div class="doc-md-description">
                <p>Status of the handling</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.shortterm.log.Log.handle_start_action" class="doc doc-heading">
            <code class="highlight language-python">handle_start_action(dctmsg)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Starts an auction by instructing all RESOURCE children to start communicating with the MATERIALs</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>dctmsg</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Dictionary for the message</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>str</code>
              –
              <div class="doc-md-description">
                <p>Status of the handling</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.shortterm.log.Log.handle_askresults_action" class="doc doc-heading">
            <code class="highlight language-python">handle_askresults_action(dctmsg)</code>

</h2>


    <div class="doc doc-contents ">

        <p>Answers the sender of the message with the results of the auction</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>dctmsg</code></b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Dictionary for the message</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>str</code>
              –
              <div class="doc-md-description">
                <p>Status of the handling</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="dynreact.shortterm.log.Log.callback_before_message" class="doc doc-heading">
            <code class="highlight language-python">callback_before_message()</code>

</h2>


    <div class="doc doc-contents ">

        <p>Starts the auction when the number of present agents reaches the desired total number of agents</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>str</code>
              –
              <div class="doc-md-description">
                <p>Status of the handling</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
    </div>

</div>



  </div>

    </div>

</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="common.html" class="btn btn-neutral float-left" title="Common"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="functions.html" class="btn btn-neutral float-right" title="Functions">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="common.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="functions.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
